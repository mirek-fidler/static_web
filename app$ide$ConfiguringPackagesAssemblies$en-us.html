<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML lang="en-us">
<HEAD>
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=utf-8">
<META NAME="Generator" CONTENT="U++ HTML Package">
<META NAME="Description" CONTENT="To open a package, the Set-main-package option on the File menu in TheIDE is used. The Select main package dialog will appear.">
<TITLE>Configuring Packages and Assemblies :: U++</TITLE>
<STYLE TYPE="text/css"><!--
.A{margin:0px 0px 0px 0px;text-indent:0px;text-align:left;color:#000000;font-family:sans-serif;font-size:10pt;font-weight:normal;font-style:normal;}
.B{font-size:12pt;}
.C{margin:0px 0px 16px 0px;text-indent:0px;text-align:left;color:#000000;font-family:serif;font-size:24pt;font-weight:bold;font-style:normal;}
.D{margin:16px 0px 0px 0px;text-indent:0px;text-align:left;color:#000000;font-family:sans-serif;font-size:16pt;font-weight:bold;font-style:normal;}
.E{margin:8px 0px 8px 0px;text-indent:0px;text-align:left;color:#000000;font-family:sans-serif;font-size:10pt;font-weight:normal;font-style:normal;line-height:150%}
.F{font-style:italic;}
.G{margin:0px 0px 0px 0px;text-indent:0px;text-align:left;color:#000000;font-family:sans-serif;font-size:12pt;font-weight:normal;font-style:normal;}
.H{margin:0px 0px 0px 0px;text-indent:0px;text-align:center;color:#000000;font-family:sans-serif;font-size:12pt;font-weight:normal;font-style:normal;}
.I{font-weight:bold;}
.J{display:list-item;list-style-type:disc;margin:8px 0px 8px 77px;text-indent:0px;text-align:left;color:#000000;font-family:sans-serif;font-size:10pt;font-weight:normal;font-style:normal;line-height:150%}
.K{margin:8px 0px 8px 0px;text-indent:0px;text-align:left;color:#000000;font-family:sans-serif;font-size:10pt;font-weight:normal;font-style:italic;line-height:150%}
.L{font-style:normal;}
.M{border-collapse:collapse;table-layout:auto;border: 2px solid #000000;}
.N{padding: 3px 5px 3px 5px;border-left: 1px solid #000000;border-top: 1px solid #000000;border-right: 1px solid #000000;border-bottom: 1px solid #000000;background-color:#FFFF96;vertical-align:middle;}
.O{margin:8px 0px 8px 0px;text-indent:0px;text-align:left;color:#000000;font-family:sans-serif;font-size:10pt;font-weight:bold;font-style:italic;line-height:150%}
a.l1         { text-decoration:none; font-size: 8pt; font-family: sans-serif; font-weight: normal; }
a.l1:link    { color:#000000; }
a.l1:visited { color:#000080; }
a.l1:hover   { color:#9933CC; }
a.l1:active  { color:#000000; }
a.l2         { text-decoration:none; font-size: 12pt; font-family: sans-serif; font-variant: small-caps; }
a.l2:link    { color:#0066FF; }
a.l2:visited { color:#FF6600; }
a.l2:hover   { color:#BC0624; }
a.l2:active  { color:#BC0024; }

-->
</STYLE>
<META NAME="keywords" CONTENT="framework, toolkit, widget, c++, visual, studio, dev-cpp, builder, ide, class, component,wxwidgets, qt, rapid, application, development, rad, mfc, linux, macos, gui, sdl, directx, desktop"><META name="robots" content="index,follow">
<LINK rel="alternate" type="application/rss+xml" title="SVN changes" href="svnchanges.xml">
<LINK rel="shortcut icon" type="image/png" href="favicon.png">
</HEAD><BODY BGCOLOR="#D2D9D2" ALINK="#800000" LINK="#000000" VLINK="#000080"><TABLE BORDER="0" CELLSPACING="0" CELLPADDING="0" WIDTH="100%"><TR><TD COLSPAN="3"><TABLE BORDER="0" CELLSPACING="0" CELLPADDING="0" WIDTH="100%" BGCOLOR="#FFFFFF" style="border: 1px solid #6E89AE;padding-left: 10px;padding-right: 0px;padding-top: 0px;padding-bottom: 0px;"><TR><TD><A HREF="index.html"><IMG SRC="0i.png" ALT="" BORDER="0"></A>
</TD>
<TD ALIGN="RIGHT" VALIGN="BOTTOM" STYLE="padding-bottom: 5px; background-image: url('1i.png')"><span style="font-size: 14pt; font-family: sans-serif;"><script type="text/javascript"><!--
google_ad_client = "pub-1082147624384270";
google_ad_width = 468;
google_ad_height = 60;
google_ad_format = "468x60_as";
google_ad_type = "text_image";
google_ad_channel = "";
google_color_border = "336699";
google_color_bg = "FFFFFF";
google_color_link = "0000FF";
google_color_text = "000000";
google_color_url = "008000";
//--></script>
<script type="text/javascript"
  src="https://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
&nbsp;&nbsp;</span>
</TD>
</TR>
</TABLE>
</TD>
</TR>
</TABLE>
<TABLE BORDER="0" CELLSPACING="0" CELLPADDING="0" WIDTH="100%"><TR><TD COLSPAN="3" BGCOLOR="#D2D9D2" HEIGHT="6"></TD>
</TR>
<TR><TD VALIGN="TOP" ALIGN="CENTER"><TABLE BORDER="0" CELLSPACING="0" CELLPADDING="0" WIDTH="160"><TR><TD ALIGN="CENTER"><TABLE BORDER="0" CELLSPACING="0" CELLPADDING="0" WIDTH="100%" BGCOLOR="#FFFFFF" style="border-style: solid; border-width: 1px; border-color: #6E89AE;padding: 0px"><TR><TD WIDTH="100%" VALIGN="MIDDLE" STYLE="background-image: url('2i.png'); border: 0px solid black; padding-left:12px; padding-right:0px; padding-top:6px; padding-bottom:6px;"><A HREF="www$uppweb$overview$en-us.html" CLASS="l1">Overview</A>
</TD>
</TR>
<TR><TD WIDTH="100%" VALIGN="MIDDLE" STYLE="background-image: url('2i.png'); border: 0px solid black; padding-left:12px; padding-right:0px; padding-top:6px; padding-bottom:6px; border-top: 1px solid #6E89AE;"><A HREF="www$uppweb$examples$en-us.html" CLASS="l1">Examples</A>
</TD>
</TR>
<TR><TD WIDTH="100%" VALIGN="MIDDLE" STYLE="background-image: url('2i.png'); border: 0px solid black; padding-left:12px; padding-right:0px; padding-top:6px; padding-bottom:6px; border-top: 1px solid #6E89AE;"><A HREF="www$uppweb$ss$en-us.html" CLASS="l1">Screenshots</A>
</TD>
</TR>
<TR><TD WIDTH="100%" VALIGN="MIDDLE" STYLE="background-image: url('2i.png'); border: 0px solid black; padding-left:12px; padding-right:0px; padding-top:6px; padding-bottom:6px; border-top: 1px solid #6E89AE;"><A HREF="www$uppweb$comparison$en-us.html" CLASS="l1">Comparisons</A>
</TD>
</TR>
<TR><TD WIDTH="100%" VALIGN="MIDDLE" STYLE="background-image: url('2i.png'); border: 0px solid black; padding-left:12px; padding-right:0px; padding-top:6px; padding-bottom:6px; border-top: 1px solid #6E89AE;"><A HREF="www$uppweb$apps$en-us.html" CLASS="l1">Applications</A>
</TD>
</TR>
<TR><TD WIDTH="100%" VALIGN="MIDDLE" STYLE="background-image: url('2i.png'); border: 0px solid black; padding-left:12px; padding-right:0px; padding-top:6px; padding-bottom:6px; border-top: 1px solid #6E89AE;"><A HREF="www$uppweb$download$en-us.html" CLASS="l1">Download</A>
</TD>
</TR>
<TR><TD WIDTH="100%" VALIGN="MIDDLE" STYLE="background-image: url('2i.png'); border: 0px solid black; padding-left:12px; padding-right:0px; padding-top:6px; padding-bottom:6px; border-top: 1px solid #6E89AE;"><A HREF="www$uppweb$documentation$en-us.html" CLASS="l1">Documentation</A>
</TD>
</TR>
<TR><TD WIDTH="100%" VALIGN="MIDDLE" STYLE="background-image: url('2i.png'); border: 0px solid black; padding-left:12px; padding-right:0px; padding-top:6px; padding-bottom:6px; border-top: 1px solid #6E89AE;"><A HREF="www$uppweb$Tutorials$en-us.html" CLASS="l1">Tutorials</A>
</TD>
</TR>
<TR><TD WIDTH="100%" VALIGN="MIDDLE" STYLE="background-image: url('2i.png'); border: 0px solid black; padding-left:12px; padding-right:0px; padding-top:6px; padding-bottom:6px; border-top: 1px solid #6E89AE;"><A HREF="app$ide$UppHub$en-us.html" CLASS="l1">UppHub</A>
</TD>
</TR>
<TR><TD WIDTH="100%" VALIGN="MIDDLE" STYLE="background-image: url('2i.png'); border: 0px solid black; padding-left:12px; padding-right:0px; padding-top:6px; padding-bottom:6px; border-top: 1px solid #6E89AE;"><A HREF="www$uppweb$Roadmap$en-us.html" CLASS="l1">Status & Roadmap</A>
</TD>
</TR>
<TR><TD WIDTH="100%" VALIGN="MIDDLE" STYLE="background-image: url('2i.png'); border: 0px solid black; padding-left:12px; padding-right:0px; padding-top:6px; padding-bottom:6px; border-top: 1px solid #6E89AE;"><A HREF="www$uppweb$FAQ$en-us.html" CLASS="l1">FAQ</A>
</TD>
</TR>
<TR><TD WIDTH="100%" VALIGN="MIDDLE" STYLE="background-image: url('2i.png'); border: 0px solid black; padding-left:12px; padding-right:0px; padding-top:6px; padding-bottom:6px; border-top: 1px solid #6E89AE;"><A HREF="app$ide$About$en-us.html" CLASS="l1">Authors & License</A>
</TD>
</TR>
<TR><TD WIDTH="100%" VALIGN="MIDDLE" STYLE="background-image: url('2i.png'); border: 0px solid black; padding-left:12px; padding-right:0px; padding-top:6px; padding-bottom:6px; border-top: 1px solid #6E89AE;"><A HREF="https://www.ultimatepp.org/forums" CLASS="l1">Forums</A>
</TD>
</TR>
<TR><TD WIDTH="100%" VALIGN="MIDDLE" STYLE="background-image: url('2i.png'); border: 0px solid black; padding-left:12px; padding-right:0px; padding-top:6px; padding-bottom:6px; border-top: 1px solid #6E89AE;"><A HREF="www$uppweb$Funding$en-us.html" CLASS="l1">Funding U++</A>
</TD>
</TR>
</TABLE>
<TABLE BORDER="0" WIDTH="100%"><TR><TD></TD>
</TR>
</TABLE>
<TABLE BORDER="0" CELLSPACING="0" CELLPADDING="0" WIDTH="100%" BGCOLOR="#FFFFFF" style="border-style: solid; border-width: 1px; border-color: #6E89AE;padding: 0px"><TR><TD WIDTH="100%" VALIGN="MIDDLE" STYLE="background-image: url('3i.png'); border: 0px solid black;padding-left:12px; padding-right:0px; padding-top:1px; padding-bottom:1px;color:#FFFFFF;"><B><span style="font-size: 8pt; font-family: sans-serif;">Search on this site</span>
</B>
</TD>
</TR>
<TR><TD WIDTH="100%" VALIGN="MIDDLE" STYLE="background-image: url('2i.png'); border: 0px solid black; padding-left:6px; padding-right:0px; padding-top:4px; padding-bottom:4px;border-top: 1px solid #6E89AE;"><TABLE BORDER="0" CELLSPACING="0" CELLPADDING="0" WIDTH="100%"><TR><TD><IMG SRC="4i.png" ALT="" BORDER="0"></TD>
<TD><FORM ACTION="https://www.google.com/search" METHOD="GET" STYLE="margin:0px;padding:0px;"><INPUT TYPE="HIDDEN" NAME="ie" VALUE="UTF-8"><INPUT TYPE="HIDDEN" NAME="oe" VALUE="UTF-8"><INPUT TYPE="TEXT" NAME="q" SIZE="15" MAXLENGTH="256" placeholder="Site search"><INPUT TYPE="HIDDEN" NAME="sitesearch" VALUE="ultimatepp.org"></FORM>
</TD>
</TR>
</TABLE>
</TD>
</TR>
</TABLE>
<TABLE BORDER="0" WIDTH="100%"><TR><TD></TD>
</TR>
</TABLE>
<br><div id="fb-root"></div>
<script type="text/javascript">(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) {return;}
  js = d.createElement(s); js.id = id;
  js.src = "//connect.facebook.net/en_US/all.js#xfbml=1";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>

<div class="fb-like" data-href="https://www.facebook.com/pages/Upp-Framework/262346610476027?sk=wall" data-send="false" data-layout="button_count" data-width="160" data-show-faces="false" data-font="arial"></div>
<br><br><script type="text/javascript"><!--
google_ad_client = "pub-1082147624384270";
google_ad_width = 160;
google_ad_height = 600;
google_ad_format = "160x600_as";
google_ad_type = "text_image";
google_ad_channel = "";
google_color_border = "336699";
google_color_bg = "FFFFFF";
google_color_link = "0000FF";
google_color_text = "000000";
google_color_url = "008000";
//--></script>
<script type="text/javascript"
  src="https://pagead2.googlesyndication.com/pagead/show_ads.js">
</script><br><br><script type="text/javascript"><!--
google_ad_client = "pub-1082147624384270";
google_ad_width = 160;
google_ad_height = 90;
google_ad_format = "160x90_0ads_al_s";
google_ad_channel = "";
google_color_border = "336699";
google_color_bg = "FFFFFF";
google_color_link = "0000FF";
google_color_text = "000000";
google_color_url = "008000";
//--></script>
<script type="text/javascript"
  src="https://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
<br><br><br><br><br><br><A HREF="https://sourceforge.net/projects/upp/"><IMG SRC="https://sourceforge.net/sflogo.php?group_id=93970&amp;type=2" ALT="SourceForge.net Logo" BORDER="0" WIDTH="125" HEIGHT="37"></A>
<br><br><A HREF="https://flathub.org/en/apps/org.ultimatepp.TheIDE"><IMG SRC="5i.png" ALT="SourceForge.net Logo" BORDER="0" WIDTH="125" HEIGHT="37"></A>
<br><br><div style="background-color:#ffffff;width:125;height:35"><A HREF="https://github.com/ultimatepp"><IMG SRC="6i.png" ALT="GitHub Logo" BORDER="0" WIDTH="125" HEIGHT="35"></A>
</div><br><div style="background-color:#ffffff;width:125;height:35"><div style="height:5"></div><A HREF="https://discord.gg/8XzqQzXZzb"><IMG SRC="https://assets-global.website-files.com/6257adef93867e50d84d30e2/636e0b5061df29d55a92d945_full_logo_blurple_RGB.svg" ALT="Discord Logo" BORDER="0" WIDTH="125" HEIGHT="25"></A>
</div><br></TD>
</TR>
</TABLE>
</TD>
<TD VALIGN="TOP" BGCOLOR="#D2D9D2"><TABLE BORDER="0" CELLSPACING="0" CELLPADDING="0" WIDTH="6"><TR><TD></TD>
</TR>
</TABLE>
</TD>
<TD VALIGN="TOP" WIDTH="100%" BGCOLOR="#D2D9D2"><TABLE BORDER="0" CELLSPACING="0" CELLPADDING="0" BGCOLOR="#FFFFFF" WIDTH="100%" style="border-style: solid; border-width: 1px; border-color: #6E89AE;padding: 10px;;"><TR><TD><TABLE BORDER="0" CELLSPACING="0" CELLPADDING="0" WIDTH="100%"><TR><TD><p class="C">Configuring Packages &amp; Assemblies</p>
<hr><p class="D">Table of contents</p>
<p class="A">&nbsp;</p>
<p class="A"><a href="#1">1. Opening a package</a></p>
<p class="A"><a href="#2">2. Assembly setup</a></p>
<p class="A"><a href="#3">3. Creating a package</a></p>
<p class="A"><a href="#4">4. Package build configurations</a></p>
<p class="A"><a href="#5">5. Package build settings</a></p>
<p class="A"><a href="#6">6. Adding Dependent Packages</a></p>
<p class="A"><a href="#7">7. Custom Build Steps</a></p>
<p class="A"><a href="#8">8. Adding source files to a package</a></p>
<p class="A"><a href="#9">9. Building packages from an ESC macro</a></p>
<p class="A"><a href="#10">10. Binary resource extensions</a></p>
<p class="A">&nbsp;</p>
<hr><p id="1" class="D">1. Opening a package</p>
<p class="E">To open a package, the <span class="F">Set-main-package</span> option on the File menu in TheIDE is used. The &quot;Select main package&quot; dialog will appear.</p>
<p class="G">&nbsp;</p>
<p class="H"><a href="app$ide$ConfiguringPackagesAssemblies$en-us.html_0.png"><img src="app$ide$ConfiguringPackagesAssemblies$en-us.html_0.png" border="0" alt="" style="width: 629px; height: 367px"></a></p>
<p class="A">&nbsp;</p>
<p class="E">First, select an assembly in the left hand pane, then select one of the assembly's packages in the right hand pane. &nbsp;Click OK and the selected package will be opened in TheIDE with the package name shown in TheIDE application window title bar. &nbsp;The package that has been opened is referred to as the <span class="I">main package</span> and appears first in the list of packages shown at the left-hand-side of TheIDE.</p>
<p class="E">In the select-main-package dialog, if the &quot;all packages&quot; checkbox is unchecked, then the right hand pane will show only packages that have <span class="I">main configuration</span>. &nbsp;&quot;Main configuration&quot; refers to the settings that determine how a package is built. &nbsp;Packages that have no <span class="I">main configuration</span> can't be built by themselves but they can be used by other packages and they can be opened in TheIDE.</p>
<p class="E">The build configurations for the <span class="I">main package </span>can be assigned using the <span class="F">Main-package-configuration</span> option on the Project menu. &nbsp;Predefined build configuration options are target type (executable or dll), application style (GUI or non-GUI) and thread model (single-threaded or multi-threaded). &nbsp;These options determine the switches supplied to the compiler and linker and the choice of libs to be linked with when the package is built. &nbsp;These configuration options are referred to as <span class="I">main configuration</span> and are stored in the <span class="I">mainconfig</span> section of the package definition file (i.e. the &lt;package-name.upp&gt; file).</p>
<p class="E">A package that has no <span class="I">main configuration</span> (no mainconfig section in the .upp file) cannot be built because there is no information that says what target type or style it is etc. &nbsp;If the &quot;all packages&quot; checkbox in the select-main-package dialog is unchecked, only packages which have <span class="I">main configuration</span> will be shown. &nbsp;When a package is first created it will have no main configuration unless one of the package template options was used (see &quot;creating a package&quot; below).</p>
<p class="E">For more detail on the organization of packages, assemblies and nests, <a href="app$ide$PackagesAssembliesAndNests$en-us.html">see this</a>.</p>
<hr><p id="2" class="D">2. Assembly setup</p>
<p class="E">From the Select-main-package dialog shown above, the settings for an assembly can be changed (or a new assembly created) by right-clicking on the assembly name and selecting &quot;edit assembly&quot; (or &quot;new assembly&quot;).</p>
<p class="G">&nbsp;</p>
<p class="H"><a href="app$ide$ConfiguringPackagesAssemblies$en-us.html_1.png"><img src="app$ide$ConfiguringPackagesAssemblies$en-us.html_1.png" border="0" alt="" style="width: 498px; height: 237px"></a></p>
<p class="G">&nbsp;</p>
<p class="E">Clicking on the arrow at the end of each edit box allows you to browse to the folder whose path you want to add. &nbsp;The &quot;package nests&quot; item may contain multiple paths and these are separated with semicolons.</p>
<p class="E">When a new assembly is created, the paths that are assigned initially, are copied from whichever assembly was selected before the new assembly was created.</p>
<hr><p id="3" class="D">3. Creating a package</p>
<p class="E">To create a new package, select the assembly in the <span class="F">Select-main-package</span> dialog then click the <span class="I">New</span> button. &nbsp;The <span class="F">Create-new-package</span> dialog will appear.</p>
<p class="A">&nbsp;</p>
<p class="H"><a href="app$ide$ConfiguringPackagesAssemblies$en-us.html_2.png"><img src="app$ide$ConfiguringPackagesAssemblies$en-us.html_2.png" border="0" alt="" style="width: 538px; height: 570px"></a></p>
<p class="A">&nbsp;</p>
<p class="E">The drop-down list box labeled &nbsp;&quot;Create in&quot; allows you to select one of the assembly's nests (folders) into which the package should be created. &nbsp;The edit-box labeled &quot;Package name&quot; allows you to enter the name of the new package. &nbsp;If the package is to be located in a sub-folder of the nest folder, then the package name should include the sub-folder name(s). e.g. If the path for the selected nest is C:/MyApps and you want a new package named &quot;Web&quot; to be in the C:/MyApps/Project1/Client folder then you enter &quot;Project1/Client/Web&quot; (without the quotes) in the Package-name edit box.</p>
<p class="E">You can choose one of the template options according to the type of package you are creating. &nbsp;When you select a template, the right hand pane shows which files will be created and what content they will have. &nbsp;If you select the &quot;empty&quot; template, then the only file which will be automatically created is the package definition file.</p>
<p class="E">Click the Create button when you have entered all the necessary information and the package will be created and opened in TheIDE.</p>
<p class="E">The CtrlLib application with main window template</p>
<p class="E">The <span class="F">Create-new-package</span> example dialog box above shows the <span class="I">CtrlLib application with main window</span> <span class="I">template</span> selected. &nbsp;This is the template to select if you are creating a standard GUI application. &nbsp;You need to enter a name for the C++ class that represents the main window</p>
<p class="E">The drop-down list labeled &quot;Layout&quot; gives the following choices:</p>
<p class="J">No layouts</p>
<p class="J">Generate layout file</p>
<p class="J">Main window has layout</p>
<p class="J">Main window has OK/cancel</p>
<p class="E">If you want to create the visual interface for your package at design time (i.e. using TheIDE) then you should select either &quot;Generate layout file&quot; or &quot;Main window has layout&quot;. &nbsp;If &quot;Main window has layout&quot; is chosen, then at runtime when the application is started, a visible window will appear. &nbsp;If the application needs to start without a visible window (or does not always want the same visible window), then you can choose &quot;Generate layout file&quot;.</p>
<hr><p id="4" class="D">4. Package build configurations</p>
<p class="E">The left-hand drop-down list on TheIDE toolbar shows which build configuration is currently selected. To change the build configurations for the <span class="I">main package</span> use the <span class="F">main-package-configuration </span>option on the Project menu in TheIDE. &nbsp;Alternatively, click within the text area of the drop-down list that shows the currently selected build configuration. &nbsp;The &quot;Main package configurations&quot; dialog will appear.</p>
<p class="A">&nbsp;</p>
<p class="H"><a href="app$ide$ConfiguringPackagesAssemblies$en-us.html_3.png"><img src="app$ide$ConfiguringPackagesAssemblies$en-us.html_3.png" border="0" alt="" style="width: 533px; height: 186px"></a></p>
<p class="A">&nbsp;</p>
<p class="E">A package can have more than one build configuration. &nbsp;Each line in this dialog corresponds to one particular build configuration. &nbsp;To add a new line, use mouse right click and select &quot;append row&quot;. To edit an existing line, right click and select &quot;edit&quot;. In the right-hand column (headed &quot;optional name&quot;) you can optionally enter a name for that particular build. &nbsp;This name will appear in the left-hand drop-down list on TheIDE tool bar. When a build command is initiated in TheIDE, the main package is built according to the currently selected build configuration.as shown in the drop-down list. &nbsp;For example, a package can have a DEBUG build and a non-DEBUG build. &nbsp;If the DEBUG flags name is not present in a particular build configuration, then a non-debug build occurs by default. &nbsp;Similarly, if the MT name is not present then a single-threaded application is built by default and if the GUI flags name is not present, then a console type application is built.</p>
<p class="E">The names that appear in the Flags column are alpha-numeric strings separated by spaces. &nbsp;There are some predefined names that can be used (e.g. GUI DEBUG WIN32 MT) however, you can enter any names you desire (e.g. PRO_VERSION) as shown above. &nbsp;TheIDE build process will react to some of these names (such as GUI and DEBUG) and these affect the switches etc that are used when the compiler or linker are invoked.and also which libs are used. &nbsp;Each of the Flag names also becomes a #define'd MACRO name that can be used in source files where each flag name is prefixed with &quot;flag&quot; &nbsp;e.g. flagGUI, flagDEBUG, flagSTD_VERSION. &nbsp;Hence you can then test for these in source code with #ifdef or #if defined(flagNAME)</p>
<p class="E">All of the packages that are directly or indirectly used by the main package are built with the same build configuration as the main package, however it is possible to restrict a Flag name to apply to the main package only by preceding it with a dot (.) character. &nbsp;If a Flag name is preceded by a dot character (e.g. &nbsp;.ENCRYPT) then that name is in effect only when the main package source files are compiled, unless a dependent package is explicitly configured as &quot;accepting&quot; a particular &quot;dotted&quot; build Flag name. &nbsp;Flag names that are not preceded by a dot character are in effect for both the main package and all of the packages it uses.</p>
<p class="E">The build configuration information is stored in the <span class="I">mainconfig</span> section of the package definition file.</p>
<p class="E">Flag names such as GUI and DEBUG can be detected in the <span class="F">package-organizer</span> dialog box by entering them in the &quot;when&quot; column. &nbsp;This includes all of the names that are present in the build configuration flags names list, not just predefined names e.g. PRO_VERSION. &nbsp;By using these names in the package-organizer dialog, the build process can be customized for each build configuration.</p>
<hr><p id="5" class="D">5. Package build settings</p>
<p class="K"><span class="L">From TheIDE project menu, select </span>package-organizer.</p>
<p class="A">&nbsp;</p>
<p class="H"><a href="app$ide$ConfiguringPackagesAssemblies$en-us.html_4.png"><img src="app$ide$ConfiguringPackagesAssemblies$en-us.html_4.png" border="0" alt="" style="width: 473px; height: 355px"></a></p>
<p class="A">&nbsp;</p>
<p class="E">The package organizer allows the setting of a number of things affecting the package build process. &nbsp;The &quot;When&quot; column allows control of when the item in the right hand column is applied. &nbsp;In the above example, the -I compiler option is applied with GCC compiler and /I is applied with the Microsoft (MSC71) compiler.</p>
<p class="J">Target file override. Allows specification of a name for the final executable. The default name is the package name.</p>
<p class="J">Additional libraries. &nbsp;Allows specification of the path and name of object file libs and shared libraries that will be supplied to the linker.</p>
<p class="J">Compiler options. &nbsp;These are text strings that will be supplied on the command line to the compiler. &nbsp;These will be added to the command line <span class="F">after</span> (at the end of) the compiler options generated by TheIDE. These options affect all source files being compiled, not just those from the <span class="I">main package</span>, however you can use <span class="I">build flags</span> and the &quot;dotted&quot; mechanism (see <span class="F">Package-build-configurations</span> above) to restrict which packages the options are applied to.</p>
<p class="J">Link options. These are text strings that will be supplied on the command line to the linker. These will be added to the command line <span class="F">after</span> (at the end of) the linker options generated by TheIDE.</p>
<p class="E">You can also set additional compiler options for individual source files. &nbsp;In the &quot;additional dependencies&quot; list you can specify a list of files that a source file is dependent on. &nbsp;This means TheIDE will check these additional files to determine whether a source file should be rebuilt.</p>
<p class="E">The &quot;accepts&quot; edit-box allows selection of which &quot;dotted&quot; build flags are accepted and applied by this package. &nbsp;When the <span class="I">main package</span> is built, the <span class="I">build flags</span> of the main package are passed to all of the packages that are &quot;used&quot; by the main package, however, dotted flags are accepted by a &quot;used&quot; package only if listed in the &quot;accepts&quot; edit-box for the used package. &nbsp;Build flags from the main package that are not &quot;dotted&quot; will be applied to all used packages regardless of whether listed in the &quot;accepts&quot; list of a particular package or not.</p>
<hr><p id="6" class="D">6. Adding Dependent Packages</p>
<p class="E">If a package uses other packages, then they must be &quot;added&quot; to the using package. &nbsp;For example, the HelloWorld package in the &quot;examples&quot; assembly uses the CtrlLib package which you can see in the example <span class="F">package-organizer</span> dialog in the previous section. The CtrlLib package uses the CtrlCore and RichText packages. The <span class="F">package-organizer</span> dialog allows you to add or remove dependent packages and you can also select the order in which the used packages are built. &nbsp;Use mouse right-click in the &quot;uses&quot; pane of the <span class="F">package-organizer</span> dialog to do this. &nbsp;Alternatively you can use &quot;<span class="F">add package</span>&quot; from the Project menu.</p>
<hr><p id="7" class="D">7. Custom Build Steps</p>
<p class="E">Custom build steps allow you to specify how files with a particular extension are &quot;built&quot;. &nbsp;For example, you can specify the invocation of a particular assembler for assembler files or the Microsoft Intermediate Definition Language compiler (MIDL) for IDL files. You can even invoke the C++ compiler with a custom build step if you wish. To bring up the Custom-build-steps dialog, select Custom-build-steps on the Project menu.</p>
<p class="A">&nbsp;</p>
<p class="H"><a href="app$ide$ConfiguringPackagesAssemblies$en-us.html_5.png"><img src="app$ide$ConfiguringPackagesAssemblies$en-us.html_5.png" border="0" alt="" style="width: 450px; height: 338px"></a></p>
<p class="A">&nbsp;</p>
<p class="E">In the example above, you can see that files with an extension of idl have a custom build step which invokes midl to generate a header file and a type library file. &nbsp;The output files generated by the custom build step need to be listed in the Output-files section because TheIDE uses these to determine when they are out of date with respect to the input file and do a rebuild.</p>
<p class="E">If the extension is specified as &quot;pre-link&quot;, then the specified command is executed prior to invocation of the linker. &nbsp;If the extension is specified as &quot;post-link&quot; then the command is executed after linking. &nbsp;The uppsrc Ole/Ctrl/Calc package uses &quot;post-link&quot; to register an .ocx by executing</p>
<p class="E">regsvr32 /s /c $(OUTPUT)\calc.ocx</p>
<p class="E">The &quot;When&quot; column in the custom-build-steps dialog allows the entry of build flags so that the custom build step can be applied selectively e.g. for one particular compiler or to have separate commands for debug and non-debug builds.</p>
<hr><p id="8" class="D">8. Adding source files to a package</p>
<p class="E">The source files that belong to a package must be added to the package. &nbsp;TheIDE will attempt to build all of the files that belong to the package, according to the file extension. &nbsp;In TheIDE you can see the list of source files for a particular package in the left-hand pane of TheIDE and also in the <span class="F">package-organizer</span>. &nbsp;You can add files to a package in either the <span class="F">package-organizer</span> or the main IDE window by right clicking in the pane containing the list of source files. &nbsp;The right click menu provides two options for adding files, &quot;<span class="F">Insert package directory file(s)</span>&quot; and &quot;<span class="F">Insert any file(s)</span>&quot;. &nbsp;The <span class="F">Insert-any-files</span> option allows you to browse to any folder to select source files. &nbsp;The <span class="F">Insert-package-directory-files</span> option goes immediately to the folder associated with the package. &nbsp;Source files can be in sub-directories of the package directory or in any folder at all, but it is recommended to keep them in the package folder tree because this makes it easier to move or copy the package and is easier to organize.</p>
<hr><p id="9" class="D">9. Building packages from an ESC macro</p>
<p class="E">You can build a package from a macro. The &quot;brc&quot; reference example (in the reference assembly) includes the following macro.</p>
<table width="100%" border="0" cellpadding="0" cellspacing="0"><tr><td width="100%"><table width="100%" class="M"><colgroup><col width="100%"></colgroup>
<tr><td class="N"><p class="A"><span class="I">macro </span>&quot;Ship&quot; Ctrl+Shift+W {</p>
<p class="A">&nbsp;&nbsp;&nbsp;&nbsp;ClearConsole();</p>
<p class="A">&nbsp;&nbsp;&nbsp;&nbsp;</p>
<p class="A">&nbsp;&nbsp;&nbsp;&nbsp;cout(&quot;Building BRC...&quot;);</p>
<p class="A">&nbsp;&nbsp;&nbsp;&nbsp;<span class="I">if</span>(!Build(&quot;&quot;)) {</p>
<p class="A">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cout(&quot;Error building BRC.&quot;);</p>
<p class="A">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return;</p>
<p class="A">&nbsp;&nbsp;&nbsp;&nbsp;}</p>
<p class="A">&nbsp;&nbsp;&nbsp;&nbsp;</p>
<p class="A">&nbsp;&nbsp;&nbsp;&nbsp;cout(&quot;Shipping BRC...&quot;);</p>
<p class="A">&nbsp;&nbsp;&nbsp;&nbsp;<span class="I">if</span>(!BuildProject(&quot;BRC/ship&quot;, &quot;&quot;)) {</p>
<p class="A">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cout(&quot;Error shipping BRC.&quot;);</p>
<p class="A">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return;</p>
<p class="A">&nbsp;&nbsp;&nbsp;&nbsp;}</p>
<p class="A">&nbsp;&nbsp;&nbsp;&nbsp;</p>
<p class="A">&nbsp;&nbsp;&nbsp;&nbsp;cout(&quot;Build finished successfully.&quot;);</p>
<p class="A">&nbsp;&nbsp;&nbsp;&nbsp;<span class="I">if</span>(!Execute(&quot;CopyBRCExecutable.exe&quot;)) {</p>
<p class="A">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cout(&quot;Error copying BRC executable!&quot;);</p>
<p class="A">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return;</p>
<p class="A">&nbsp;&nbsp;&nbsp;&nbsp;}</p>
<p class="A">&nbsp;&nbsp;&nbsp;&nbsp;</p>
<p class="A">&nbsp;&nbsp;&nbsp;&nbsp;cout(&quot;BRC executable copied to network&quot;);</p>
<p class="A">}</p>
</td>
</tr>
</table></td>
</tr></table>
<p class="E">The above macro will appear on the Macro menu in TheIDE as an option named &quot;Ship&quot;. &nbsp;The Build command on the third line of the macro builds the current main package using whichever build configuration is currently selected in TheIDE. If a non empty string <span class="I">maincfg </span>is passed to the Build function, then <span class="I">maincfg</span> determines the build flags and not the currently selected build configuration. The BuildProject function on line 7 builds the &quot;BRC/ship&quot; package from the current assembly using the currently selected build configuration. The Execute function executes the supplied command and returns only when the command has completed.</p>
<p class="E">There is also a Launch function that allows you to launch any application. &nbsp;The Launch function does not wait for the command to be completed before returning. &nbsp;For example, on the Windows platform this could be used to launch Windows Explorer to open at your main package source file directory with a command such as </p>
<p class="E">Launch(&quot;C:/Windows/explorer.exe /n,/e,C:/MyApps/Project1&quot;);</p>
<p class="E">The ESC macros relating to project building are :</p>
<p class="J"><span class="F">bool Build()</span> &nbsp;- builds the current project with currently selected main configuration flags, returns true on success</p>
<p class="J"><span class="F">bool Build(maincfg)</span> &nbsp;- builds the current project with given main configuration flags, returns true on success</p>
<p class="J"><span class="F">bool BuildProject(mainwspc, maincfg)</span> &nbsp;&nbsp;- builds given main package with given main configuration flags, returns true on success</p>
<p class="J"><span class="F">bool Execute(commandline)</span> &nbsp;&nbsp;- executes a given application, returns true on success</p>
<p class="J"><span class="F">void Launch(commandline)</span> &nbsp;&nbsp;- launches a detached application and continues running</p>
<p class="J"><span class="F">void ClearConsole()</span> clears the IDE console</p>
<p class="J"><span class="F">void cout(message)</span> &nbsp;- outputs message to the console.</p>
<hr><p id="10" class="D">10. Binary resource extensions</p>
<p class="O">BINARY_MASK(mydir, &quot;*.*&quot;)</p>
<p class="E">adds all files matching a given mask to the binary resource file. This behaves more or less like BINARY_ARRAY, so an array of byte * named mydir is created with the appropriate number of elements, and moreover two parallel arrays int mydir_length[] and char *mydir_files[]. </p>
<p class="E">The mydir_length array holds lengths of the individual file data objects, the mydir_files array contains pointers to zero-terminated strings containing the individual file names (files are sorted in ascending order using StdLess&lt;String&gt;; file paths are currently not kept, just the file names with extensions).</p>
<p class="O">BINARY[_ARRAY | _MASK](mydir[, index], &lt;filename&gt; [BZ2 | ZIP])</p>
<p class="E">can be used to automatically ZIP or BZ2 the file[s] before putting them into the binary resource file.</p>
<p class="E">These extensions, among others, enable simple creation of application shipping (redistribution or installation) applications; you can e.g. make a simple macro which builds your current project and then builds a specialized shipping project which BZips your project executable (and possibly some additional files) into the binary resource and links it with a simple application which unpacks its contents in a specified directory.</p>
<p class="E">Both features (BRC enhancements and the shipping technique using macros) are demonstrated in a simple reference example called BRC (reference/BRC). BRC is the application being shipped (it also demonstrates the various kinds of BINARY objects), BRC/ship is the shipping application. Note that in the current version, during BuildProject, the other application (here the shipping application) inherits Output mode settings (notably the output directory). This shouldn't be a big problem but nevertheless this behavior might change in the future.</p>
</TD>
</TR>
</TABLE>
</TD>
</TR>
</TABLE>
<TABLE BORDER="0" WIDTH="100%"><TR><TD></TD>
</TR>
</TABLE>
<TABLE BORDER="0" CELLSPACING="0" CELLPADDING="0" BGCOLOR="#FFFFFF" WIDTH="100%" style="border-style: solid; border-width: 1px; border-color: #6E89AE;padding: 10px;;"><TR><TD><TABLE BORDER="0" CELLSPACING="0" CELLPADDING="0" WIDTH="100%"><TR><TD><p class="A"><span class="B"> </span><a href="www$uppweb$contribweb$en-us.html">Do you want to contribute?</a></p>
</TD>
</TR>
</TABLE>
</TD>
</TR>
</TABLE>
</TD>
</TR>
</TABLE>
<script type="text/javascript">var a={'app$ide$ConfiguringPackagesAssemblies$en-us.html':'English'};var p=window.location.pathname.split("/");p=p[p.length-1];var s='<select id="lang" onchange="window.location=document.getElementById(\'lang\').value;">';for(l in a){if(p==l){d=" selected=1"}else{d=""}s+='<option value="'+l+'"'+d+'>'+a[l]+'</option>'}s+='</select>';var d=document.createElement('div');d.innerHTML=s;var c=document.getElementById('langs');c.replaceChild(d,c.firstChild);document.getElementById('langbox').style.display='block';</script></BODY>
