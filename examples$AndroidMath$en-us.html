<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML lang="en-us">
<HEAD>
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=utf-8">
<META NAME="Generator" CONTENT="U++ HTML Package">
<META NAME="Description" CONTENT="The main goal of this example is to show major capabilities of Android Builder. We draw the attention on mixing Java and C/C++ code in one project.">
<TITLE>Demos / AndroidMath :: U++</TITLE>
<STYLE TYPE="text/css"><!--
.A{margin:0px 0px 0px 0px;text-indent:0px;text-align:left;color:#000000;font-family:sans-serif;font-size:10pt;font-weight:normal;font-style:normal;}
.B{font-size:12pt;}
.C{margin:0px 0px 0px 0px;text-indent:0px;text-align:left;color:#000000;font-family:serif;font-size:24pt;font-weight:bold;font-style:normal;}
.D{margin:0px 0px 0px 0px;text-indent:0px;text-align:left;color:#000000;font-family:sans-serif;font-size:12pt;font-weight:normal;font-style:normal;}
.E{margin:16px 0px 0px 0px;text-indent:0px;text-align:left;color:#000000;font-family:sans-serif;font-size:16pt;font-weight:bold;font-style:normal;}
.F{margin:8px 0px 8px 0px;text-indent:0px;text-align:left;color:#000000;font-family:sans-serif;font-size:10pt;font-weight:normal;font-style:normal;line-height:150%}
.G{margin:16px 0px 16px 0px;text-indent:0px;text-align:center;color:#000000;font-family:sans-serif;font-size:12pt;font-weight:normal;font-style:normal;}
.H{margin:0px 0px 0px 0px;text-indent:0px;text-align:left;color:#000000;font-family:sans-serif;font-size:16pt;font-weight:bold;font-style:normal;}
.I{margin:0px 0px 0px 0px;text-indent:0px;text-align:left;color:#000000;font-family:monospace;font-size:9pt;font-weight:normal;font-style:normal;}
.J{color:#0000ff;}
.K{margin:0px 0px 0px 0px;text-indent:0px;text-align:left;color:#0000ff;font-family:monospace;font-size:9pt;font-weight:normal;font-style:normal;}
.L{color:#000000;}
a.l1         { text-decoration:none; font-size: 8pt; font-family: sans-serif; font-weight: normal; }
a.l1:link    { color:#000000; }
a.l1:visited { color:#000080; }
a.l1:hover   { color:#9933CC; }
a.l1:active  { color:#000000; }
a.l2         { text-decoration:none; font-size: 12pt; font-family: sans-serif; font-variant: small-caps; }
a.l2:link    { color:#0066FF; }
a.l2:visited { color:#FF6600; }
a.l2:hover   { color:#BC0624; }
a.l2:active  { color:#BC0024; }

-->
</STYLE>
<META NAME="keywords" CONTENT="framework, toolkit, widget, c++, visual, studio, dev-cpp, builder, ide, class, component,wxwidgets, qt, rapid, application, development, rad, mfc, linux, macos, gui, sdl, directx, desktop"><META name="robots" content="index,follow">
<LINK rel="alternate" type="application/rss+xml" title="SVN changes" href="svnchanges.xml">
<LINK rel="shortcut icon" type="image/png" href="favicon.png">
</HEAD><BODY BGCOLOR="#D2D9D2" ALINK="#800000" LINK="#000000" VLINK="#000080"><TABLE BORDER="0" CELLSPACING="0" CELLPADDING="0" WIDTH="100%"><TR><TD COLSPAN="3"><TABLE BORDER="0" CELLSPACING="0" CELLPADDING="0" WIDTH="100%" BGCOLOR="#FFFFFF" style="border: 1px solid #6E89AE;padding-left: 10px;padding-right: 0px;padding-top: 0px;padding-bottom: 0px;"><TR><TD><A HREF="index.html"><IMG SRC="0i.png" ALT="" BORDER="0"></A>
</TD>
<TD ALIGN="RIGHT" VALIGN="BOTTOM" STYLE="padding-bottom: 5px; background-image: url('1i.png')"><span style="font-size: 14pt; font-family: sans-serif;"><script type="text/javascript"><!--
google_ad_client = "pub-1082147624384270";
google_ad_width = 468;
google_ad_height = 60;
google_ad_format = "468x60_as";
google_ad_type = "text_image";
google_ad_channel = "";
google_color_border = "336699";
google_color_bg = "FFFFFF";
google_color_link = "0000FF";
google_color_text = "000000";
google_color_url = "008000";
//--></script>
<script type="text/javascript"
  src="https://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
&nbsp;&nbsp;</span>
</TD>
</TR>
</TABLE>
</TD>
</TR>
</TABLE>
<TABLE BORDER="0" CELLSPACING="0" CELLPADDING="0" WIDTH="100%"><TR><TD COLSPAN="3" BGCOLOR="#D2D9D2" HEIGHT="6"></TD>
</TR>
<TR><TD VALIGN="TOP" ALIGN="CENTER"><TABLE BORDER="0" CELLSPACING="0" CELLPADDING="0" WIDTH="160"><TR><TD ALIGN="CENTER"><TABLE BORDER="0" CELLSPACING="0" CELLPADDING="0" WIDTH="100%" BGCOLOR="#FFFFFF" style="border-style: solid; border-width: 1px; border-color: #6E89AE;padding: 0px"><TR><TD WIDTH="100%" VALIGN="MIDDLE" STYLE="background-image: url('2i.png'); border: 0px solid black; padding-left:12px; padding-right:0px; padding-top:6px; padding-bottom:6px;"><A HREF="www$uppweb$overview$en-us.html" CLASS="l1">Overview</A>
</TD>
</TR>
<TR><TD WIDTH="100%" VALIGN="MIDDLE" STYLE="background-image: url('2i.png'); border: 0px solid black; padding-left:12px; padding-right:0px; padding-top:6px; padding-bottom:6px; border-top: 1px solid #6E89AE;"><A HREF="www$uppweb$examples$en-us.html" CLASS="l1">Examples</A>
</TD>
</TR>
<TR><TD WIDTH="100%" VALIGN="MIDDLE" STYLE="background-image: url('2i.png'); border: 0px solid black; padding-left:12px; padding-right:0px; padding-top:6px; padding-bottom:6px; border-top: 1px solid #6E89AE;"><A HREF="www$uppweb$ss$en-us.html" CLASS="l1">Screenshots</A>
</TD>
</TR>
<TR><TD WIDTH="100%" VALIGN="MIDDLE" STYLE="background-image: url('2i.png'); border: 0px solid black; padding-left:12px; padding-right:0px; padding-top:6px; padding-bottom:6px; border-top: 1px solid #6E89AE;"><A HREF="www$uppweb$comparison$en-us.html" CLASS="l1">Comparisons</A>
</TD>
</TR>
<TR><TD WIDTH="100%" VALIGN="MIDDLE" STYLE="background-image: url('2i.png'); border: 0px solid black; padding-left:12px; padding-right:0px; padding-top:6px; padding-bottom:6px; border-top: 1px solid #6E89AE;"><A HREF="www$uppweb$apps$en-us.html" CLASS="l1">Applications</A>
</TD>
</TR>
<TR><TD WIDTH="100%" VALIGN="MIDDLE" STYLE="background-image: url('2i.png'); border: 0px solid black; padding-left:12px; padding-right:0px; padding-top:6px; padding-bottom:6px; border-top: 1px solid #6E89AE;"><A HREF="www$uppweb$download$en-us.html" CLASS="l1">Download</A>
</TD>
</TR>
<TR><TD WIDTH="100%" VALIGN="MIDDLE" STYLE="background-image: url('2i.png'); border: 0px solid black; padding-left:12px; padding-right:0px; padding-top:6px; padding-bottom:6px; border-top: 1px solid #6E89AE;"><A HREF="www$uppweb$documentation$en-us.html" CLASS="l1">Documentation</A>
</TD>
</TR>
<TR><TD WIDTH="100%" VALIGN="MIDDLE" STYLE="background-image: url('2i.png'); border: 0px solid black; padding-left:12px; padding-right:0px; padding-top:6px; padding-bottom:6px; border-top: 1px solid #6E89AE;"><A HREF="www$uppweb$Tutorials$en-us.html" CLASS="l1">Tutorials</A>
</TD>
</TR>
<TR><TD WIDTH="100%" VALIGN="MIDDLE" STYLE="background-image: url('2i.png'); border: 0px solid black; padding-left:12px; padding-right:0px; padding-top:6px; padding-bottom:6px; border-top: 1px solid #6E89AE;"><A HREF="app$ide$UppHub$en-us.html" CLASS="l1">UppHub</A>
</TD>
</TR>
<TR><TD WIDTH="100%" VALIGN="MIDDLE" STYLE="background-image: url('2i.png'); border: 0px solid black; padding-left:12px; padding-right:0px; padding-top:6px; padding-bottom:6px; border-top: 1px solid #6E89AE;"><A HREF="www$uppweb$Roadmap$en-us.html" CLASS="l1">Status & Roadmap</A>
</TD>
</TR>
<TR><TD WIDTH="100%" VALIGN="MIDDLE" STYLE="background-image: url('2i.png'); border: 0px solid black; padding-left:12px; padding-right:0px; padding-top:6px; padding-bottom:6px; border-top: 1px solid #6E89AE;"><A HREF="www$uppweb$FAQ$en-us.html" CLASS="l1">FAQ</A>
</TD>
</TR>
<TR><TD WIDTH="100%" VALIGN="MIDDLE" STYLE="background-image: url('2i.png'); border: 0px solid black; padding-left:12px; padding-right:0px; padding-top:6px; padding-bottom:6px; border-top: 1px solid #6E89AE;"><A HREF="app$ide$About$en-us.html" CLASS="l1">Authors & License</A>
</TD>
</TR>
<TR><TD WIDTH="100%" VALIGN="MIDDLE" STYLE="background-image: url('2i.png'); border: 0px solid black; padding-left:12px; padding-right:0px; padding-top:6px; padding-bottom:6px; border-top: 1px solid #6E89AE;"><A HREF="https://www.ultimatepp.org/forums" CLASS="l1">Forums</A>
</TD>
</TR>
<TR><TD WIDTH="100%" VALIGN="MIDDLE" STYLE="background-image: url('2i.png'); border: 0px solid black; padding-left:12px; padding-right:0px; padding-top:6px; padding-bottom:6px; border-top: 1px solid #6E89AE;"><A HREF="www$uppweb$Funding$en-us.html" CLASS="l1">Funding U++</A>
</TD>
</TR>
</TABLE>
<TABLE BORDER="0" WIDTH="100%"><TR><TD></TD>
</TR>
</TABLE>
<TABLE BORDER="0" CELLSPACING="0" CELLPADDING="0" WIDTH="100%" BGCOLOR="#FFFFFF" style="border-style: solid; border-width: 1px; border-color: #6E89AE;padding: 0px"><TR><TD WIDTH="100%" VALIGN="MIDDLE" STYLE="background-image: url('3i.png'); border: 0px solid black;padding-left:12px; padding-right:0px; padding-top:1px; padding-bottom:1px;color:#FFFFFF;"><B><span style="font-size: 8pt; font-family: sans-serif;">Search on this site</span>
</B>
</TD>
</TR>
<TR><TD WIDTH="100%" VALIGN="MIDDLE" STYLE="background-image: url('2i.png'); border: 0px solid black; padding-left:6px; padding-right:0px; padding-top:4px; padding-bottom:4px;border-top: 1px solid #6E89AE;"><TABLE BORDER="0" CELLSPACING="0" CELLPADDING="0" WIDTH="100%"><TR><TD><IMG SRC="4i.png" ALT="" BORDER="0"></TD>
<TD><FORM ACTION="https://www.google.com/search" METHOD="GET" STYLE="margin:0px;padding:0px;"><INPUT TYPE="HIDDEN" NAME="ie" VALUE="UTF-8"><INPUT TYPE="HIDDEN" NAME="oe" VALUE="UTF-8"><INPUT TYPE="TEXT" NAME="q" SIZE="15" MAXLENGTH="256" placeholder="Site search"><INPUT TYPE="HIDDEN" NAME="sitesearch" VALUE="ultimatepp.org"></FORM>
</TD>
</TR>
</TABLE>
</TD>
</TR>
</TABLE>
<TABLE BORDER="0" WIDTH="100%"><TR><TD></TD>
</TR>
</TABLE>
<br><div id="fb-root"></div>
<script type="text/javascript">(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) {return;}
  js = d.createElement(s); js.id = id;
  js.src = "//connect.facebook.net/en_US/all.js#xfbml=1";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>

<div class="fb-like" data-href="https://www.facebook.com/pages/Upp-Framework/262346610476027?sk=wall" data-send="false" data-layout="button_count" data-width="160" data-show-faces="false" data-font="arial"></div>
<br><br><script type="text/javascript"><!--
google_ad_client = "pub-1082147624384270";
google_ad_width = 160;
google_ad_height = 600;
google_ad_format = "160x600_as";
google_ad_type = "text_image";
google_ad_channel = "";
google_color_border = "336699";
google_color_bg = "FFFFFF";
google_color_link = "0000FF";
google_color_text = "000000";
google_color_url = "008000";
//--></script>
<script type="text/javascript"
  src="https://pagead2.googlesyndication.com/pagead/show_ads.js">
</script><br><br><script type="text/javascript"><!--
google_ad_client = "pub-1082147624384270";
google_ad_width = 160;
google_ad_height = 90;
google_ad_format = "160x90_0ads_al_s";
google_ad_channel = "";
google_color_border = "336699";
google_color_bg = "FFFFFF";
google_color_link = "0000FF";
google_color_text = "000000";
google_color_url = "008000";
//--></script>
<script type="text/javascript"
  src="https://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
<br><br><br><br><br><br><A HREF="https://sourceforge.net/projects/upp/"><IMG SRC="https://sourceforge.net/sflogo.php?group_id=93970&amp;type=2" ALT="SourceForge.net Logo" BORDER="0" WIDTH="125" HEIGHT="37"></A>
<br><br><A HREF="https://flathub.org/en/apps/org.ultimatepp.TheIDE"><IMG SRC="5i.png" ALT="SourceForge.net Logo" BORDER="0" WIDTH="125" HEIGHT="37"></A>
<br><br><div style="background-color:#ffffff;width:125;height:35"><A HREF="https://github.com/ultimatepp"><IMG SRC="6i.png" ALT="GitHub Logo" BORDER="0" WIDTH="125" HEIGHT="35"></A>
</div><br><div style="background-color:#ffffff;width:125;height:35"><div style="height:5"></div><A HREF="https://discord.gg/8XzqQzXZzb"><IMG SRC="https://assets-global.website-files.com/6257adef93867e50d84d30e2/636e0b5061df29d55a92d945_full_logo_blurple_RGB.svg" ALT="Discord Logo" BORDER="0" WIDTH="125" HEIGHT="25"></A>
</div><br></TD>
</TR>
</TABLE>
</TD>
<TD VALIGN="TOP" BGCOLOR="#D2D9D2"><TABLE BORDER="0" CELLSPACING="0" CELLPADDING="0" WIDTH="6"><TR><TD></TD>
</TR>
</TABLE>
</TD>
<TD VALIGN="TOP" WIDTH="100%" BGCOLOR="#D2D9D2"><TABLE BORDER="0" CELLSPACING="0" CELLPADDING="0" BGCOLOR="#FFFFFF" WIDTH="100%" style="border-style: solid; border-width: 1px; border-color: #6E89AE;padding: 10px;;"><TR><TD><TABLE BORDER="0" CELLSPACING="0" CELLPADDING="0" WIDTH="100%"><TR><TD><p class="C">AndroidMath</p>
<p class="D">&nbsp;</p>
<p class="D">Android builder juicy example</p>
<p class="E">Description</p>
<p class="F">The main goal of this example is to show major capabilities of <a href="app$ide$AndroidBuilder$en-us.html">Android Builder</a>. We draw the attention on mixing Java and C/C++ code in one project. Moreover we show how to use supportive package (<a href="http://www.ultimatepp.org/examples$AndroidMathUtility$en-us.html">AndroidMathUtility</a>). It is really important, because whole U++ architecture is highly modular.</p>
<p class="F">Please notice that you can generate JNI stubs by clicking on preprocess button inside TheIDE during editing Java files. Before doing this make sure you have selected AndroidBuilder base build method.</p>
<p class="E">Result</p>
<p class="G"><a href="examples$AndroidMath$en-us.html_0.png"><img src="examples$AndroidMath$en-us.html_0.png" border="0" alt="" style="width: 405px; height: 720px"></a></p>
<p class="A">&nbsp;</p>
<p class="A">&nbsp;</p>
<p class="H">MemoryManager.h</p>
<p class="A">&nbsp;</p>
<p class="I"><span class="J">#ifndef</span> _JniMath_MemoryManager_h_</p>
<p class="I"><span class="J">#define</span> _JniMath_MemoryManager_h_</p>
<p class="I">&nbsp;</p>
<p class="K">#include<span class="L"> </span>&lt;<span class="L">jni</span>.<span class="L">h</span>&gt;</p>
<p class="K">#include<span class="L"> </span>&lt;<span class="L">vector</span>&gt;</p>
<p class="K">#include<span class="L"> </span>&lt;<span class="L">string</span>&gt;</p>
<p class="K">#include<span class="L"> </span>&lt;<span class="L">sstream</span>&gt;</p>
<p class="I">&nbsp;</p>
<p class="I"><span class="J">static</span> <span class="J">const</span> <span class="J">char*</span> FieldNativeAddress <span class="J">=</span> &quot;nativeAdress&quot;;</p>
<p class="I">&nbsp;</p>
<p class="I"><span class="J">static</span> <span class="J">const</span> <span class="J">char*</span> LongSig <span class="J">=</span> &quot;J&quot;;</p>
<p class="I">&nbsp;</p>
<p class="K">/**</p>
<p class="K"><span class="L"> </span>*<span class="L"> Java simple memory manager</span>.</p>
<p class="K"><span class="L"> </span>*/</p>
<p class="K">template<span class="L"> </span>&lt;class<span class="L"> T</span>&gt;</p>
<p class="I"><span class="J">class</span> MemoryManager {</p>
<p class="K">public:</p>
<p class="I">&nbsp;&nbsp;&nbsp;&nbsp;<span class="J">~</span>MemoryManager()</p>
<p class="I">&nbsp;&nbsp;&nbsp;&nbsp;{</p>
<p class="I">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="J">for</span>(<span class="J">int</span> i <span class="J">=</span> 0; i <span class="J">&lt;</span> values<span class="J">.</span>size(); i<span class="J">++</span>) {</p>
<p class="I">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="J">delete</span> values<span class="J">[</span>i<span class="J">]</span>;</p>
<p class="I">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</p>
<p class="I">&nbsp;&nbsp;&nbsp;&nbsp;}</p>
<p class="I">&nbsp;</p>
<p class="I">&nbsp;&nbsp;&nbsp;&nbsp;<span class="J">void</span> Insert(JNIEnv <span class="J">*</span>env, jobject jobj, T<span class="J">*</span> value)</p>
<p class="I">&nbsp;&nbsp;&nbsp;&nbsp;{</p>
<p class="I">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="J">if</span>(jobj <span class="J">!=</span> NULL) {</p>
<p class="I">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;values<span class="J">.</span>push_back(value);</p>
<p class="I">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</p>
<p class="I">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SetNativeAdress(env, jobj, values<span class="J">[</span>values<span class="J">.</span>size() <span class="J">-</span> 1<span class="J">]</span>);</p>
<p class="I">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</p>
<p class="I">&nbsp;&nbsp;&nbsp;&nbsp;}</p>
<p class="I">&nbsp;&nbsp;&nbsp;&nbsp;</p>
<p class="I">&nbsp;&nbsp;&nbsp;&nbsp;<span class="J">void</span> MakeCopy(JNIEnv <span class="J">*</span>env, jobject jobjThis, jobject jobjThat)</p>
<p class="I">&nbsp;&nbsp;&nbsp;&nbsp;{</p>
<p class="I">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="J">if</span>(<span class="J">!</span>env<span class="J">-&gt;</span>IsSameObject(jobjThis, jobjThat)) {</p>
<p class="I">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;T<span class="J">*</span> t <span class="J">=</span> Get(env, jobjThat);</p>
<p class="I">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Insert(env, jobjThis, t);</p>
<p class="I">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</p>
<p class="I">&nbsp;&nbsp;&nbsp;&nbsp;}</p>
<p class="I">&nbsp;&nbsp;&nbsp;&nbsp;</p>
<p class="I">&nbsp;&nbsp;&nbsp;&nbsp;<span class="J">void</span> Erase(JNIEnv <span class="J">*</span>env, jobject jobj)</p>
<p class="I">&nbsp;&nbsp;&nbsp;&nbsp;{</p>
<p class="I">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="J">int</span> idx <span class="J">=</span> FindIdx(env, jobj);</p>
<p class="I">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="J">if</span>(idx <span class="J">&gt;=</span> 0)</p>
<p class="I">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;values<span class="J">.</span>erase(values<span class="J">.</span>begin() <span class="J">+</span> idx);</p>
<p class="I">&nbsp;&nbsp;&nbsp;&nbsp;}</p>
<p class="I">&nbsp;&nbsp;&nbsp;&nbsp;</p>
<p class="I">&nbsp;&nbsp;&nbsp;&nbsp;T<span class="J">*</span> Get(JNIEnv <span class="J">*</span>env, jobject jobj)</p>
<p class="I">&nbsp;&nbsp;&nbsp;&nbsp;{</p>
<p class="I">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="J">int</span> idx <span class="J">=</span> FindIdx(env, jobj);</p>
<p class="I">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="J">return</span> idx <span class="J">&gt;=</span> 0 <span class="J">?</span> values<span class="J">[</span>idx<span class="J">]</span> <span class="J">:</span> NULL;</p>
<p class="I">&nbsp;&nbsp;&nbsp;&nbsp;}</p>
<p class="I">&nbsp;&nbsp;&nbsp;&nbsp;</p>
<p class="I">&nbsp;&nbsp;&nbsp;&nbsp;<span class="J">int</span> GetCount()</p>
<p class="I">&nbsp;&nbsp;&nbsp;&nbsp;{</p>
<p class="I">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="J">return</span> <span class="J">static_cast&lt;int&gt;</span>(values<span class="J">.</span>size());</p>
<p class="I">&nbsp;&nbsp;&nbsp;&nbsp;}</p>
<p class="I">&nbsp;&nbsp;&nbsp;&nbsp;</p>
<p class="K">private:</p>
<p class="I">&nbsp;&nbsp;&nbsp;&nbsp;<span class="J">int</span> FindIdx(JNIEnv <span class="J">*</span>env, jobject jobj)</p>
<p class="I">&nbsp;&nbsp;&nbsp;&nbsp;{</p>
<p class="I">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="J">for</span>(<span class="J">int</span> i <span class="J">=</span> 0; i <span class="J">&lt;</span> values<span class="J">.</span>size(); i<span class="J">++</span>) {</p>
<p class="I">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="J">if</span>(GetNativeAdress(env, jobj) <span class="J">==</span> values<span class="J">[</span>i<span class="J">]</span>) {</p>
<p class="I">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="J">return</span> i;</p>
<p class="I">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</p>
<p class="I">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</p>
<p class="I">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="J">return</span> <span class="J">-</span>1;</p>
<p class="I">&nbsp;&nbsp;&nbsp;&nbsp;}</p>
<p class="I">&nbsp;&nbsp;&nbsp;&nbsp;</p>
<p class="K">private:</p>
<p class="I">&nbsp;&nbsp;&nbsp;&nbsp;T<span class="J">*</span> GetNativeAdress(JNIEnv<span class="J">*</span> env, jobject jobj)</p>
<p class="I">&nbsp;&nbsp;&nbsp;&nbsp;{</p>
<p class="I">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;jclass objectClass <span class="J">=</span> env<span class="J">-&gt;</span>GetObjectClass(jobj);</p>
<p class="I">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</p>
<p class="I">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;jfieldID adressField <span class="J">=</span> GetNativeAdressField(env, objectClass);</p>
<p class="I">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</p>
<p class="I">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;env<span class="J">-&gt;</span>DeleteLocalRef(objectClass);</p>
<p class="I">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="J">return</span> (T<span class="J">*</span>)env<span class="J">-&gt;</span>GetLongField(jobj, adressField);</p>
<p class="I">&nbsp;&nbsp;&nbsp;&nbsp;}</p>
<p class="I">&nbsp;&nbsp;&nbsp;&nbsp;</p>
<p class="I">&nbsp;&nbsp;&nbsp;&nbsp;<span class="J">void</span> SetNativeAdress(JNIEnv<span class="J">*</span> env, jobject jobj, T<span class="J">*</span> obj)</p>
<p class="I">&nbsp;&nbsp;&nbsp;&nbsp;{</p>
<p class="I">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;jclass objectClass <span class="J">=</span> env<span class="J">-&gt;</span>GetObjectClass(jobj);</p>
<p class="I">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</p>
<p class="I">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;jfieldID adressField <span class="J">=</span> GetNativeAdressField(env, objectClass);</p>
<p class="I">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;env<span class="J">-&gt;</span>SetLongField(jobj, adressField, (jlong)obj);</p>
<p class="I">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</p>
<p class="I">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;env<span class="J">-&gt;</span>DeleteLocalRef(objectClass);</p>
<p class="I">&nbsp;&nbsp;&nbsp;&nbsp;}</p>
<p class="I">&nbsp;&nbsp;&nbsp;&nbsp;</p>
<p class="I">&nbsp;&nbsp;&nbsp;&nbsp;jfieldID GetNativeAdressField(JNIEnv<span class="J">*</span> env, jclass clazz)</p>
<p class="I">&nbsp;&nbsp;&nbsp;&nbsp;{</p>
<p class="I">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="J">return</span> env<span class="J">-&gt;</span>GetFieldID(clazz, FieldNativeAddress, LongSig);</p>
<p class="I">&nbsp;&nbsp;&nbsp;&nbsp;}</p>
<p class="I">&nbsp;&nbsp;&nbsp;&nbsp;</p>
<p class="K">private:</p>
<p class="I">&nbsp;&nbsp;&nbsp;&nbsp;std<span class="J">::</span>vector<span class="J">&lt;</span>T<span class="J">*&gt;</span> values;</p>
<p class="I">};</p>
<p class="I">&nbsp;</p>
<p class="K">#endif</p>
<p class="I">&nbsp;</p>
<p class="I">&nbsp;</p>
<p class="I">&nbsp;</p>
<p class="H">AndroidMath.cpp</p>
<p class="I">&nbsp;</p>
<p class="K">#include<span class="L"> </span>&lt;<span class="L">string</span>.<span class="L">h</span>&gt;</p>
<p class="K">#include<span class="L"> </span>&lt;<span class="L">jni</span>.<span class="L">h</span>&gt;</p>
<p class="I">&nbsp;</p>
<p class="K">#include<span class="L"> </span>&lt;<span class="L">AndroidMathUtility</span>/<span class="L">AndroidMathUtility</span>.<span class="L">h</span>&gt;</p>
<p class="I">&nbsp;</p>
<p class="I"><span class="J">extern</span> &quot;C&quot; {</p>
<p class="I">&nbsp;</p>
<p class="I">&nbsp;&nbsp;&nbsp;&nbsp;JNIEXPORT jint JNICALL Java_org_upp_AndroidMath_AndroidMath_power(</p>
<p class="I">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;JNIEnv <span class="J">*</span>,</p>
<p class="I">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;jclass,</p>
<p class="I">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;jint number,</p>
<p class="I">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;jint n)</p>
<p class="I">&nbsp;&nbsp;&nbsp;&nbsp;{</p>
<p class="I">&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;<span class="J">return</span> AndroidMathUtility<span class="J">::</span>Power(number, n);</p>
<p class="I">&nbsp;&nbsp;&nbsp;&nbsp;}</p>
<p class="I">&nbsp;</p>
<p class="I">} <span class="J">//</span> <span class="J">extern</span> &quot;C&quot;</p>
<p class="I">&nbsp;</p>
<p class="I">&nbsp;</p>
<p class="I">&nbsp;</p>
<p class="H">Vector.cpp</p>
<p class="I">&nbsp;</p>
<p class="K">#include<span class="L"> </span>&lt;<span class="L">jni</span>.<span class="L">h</span>&gt;</p>
<p class="K">#include<span class="L"> </span>&lt;<span class="L">map</span>&gt;</p>
<p class="K">#include<span class="L"> </span>&lt;<span class="L">vector</span>&gt;</p>
<p class="K">#include<span class="L"> </span>&lt;<span class="L">sstream</span>&gt;</p>
<p class="K">#include<span class="L"> </span>&lt;<span class="L">string</span>&gt;</p>
<p class="I">&nbsp;</p>
<p class="K">#include<span class="L"> </span>&lt;<span class="L">AndroidMathUtility</span>/<span class="L">AndroidMathUtility</span>.<span class="L">h</span>&gt;</p>
<p class="I">&nbsp;</p>
<p class="I"><span class="J">#include</span> &quot;MemoryManager<span class="J">.</span>h&quot;</p>
<p class="I">&nbsp;</p>
<p class="I"><span class="J">using</span> AndroidMathUtility<span class="J">::</span>Vector;</p>
<p class="I">&nbsp;</p>
<p class="I"><span class="J">static</span> MemoryManager<span class="J">&lt;</span>Vector<span class="J">&gt;</span> mm;</p>
<p class="I">&nbsp;</p>
<p class="I"><span class="J">extern</span> &quot;C&quot; {</p>
<p class="I">&nbsp;</p>
<p class="I">&nbsp;&nbsp;&nbsp;&nbsp;JNIEXPORT <span class="J">void</span> JNICALL Java_org_upp_AndroidMath_Vector_construct(</p>
<p class="I">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;JNIEnv <span class="J">*</span>env,</p>
<p class="I">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;jobject obj,</p>
<p class="I">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;jint size)</p>
<p class="I">&nbsp;&nbsp;&nbsp;&nbsp;{</p>
<p class="I">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mm<span class="J">.</span>Insert(env, obj, <span class="J">new</span> Vector(size));</p>
<p class="I">&nbsp;&nbsp;&nbsp;&nbsp;}</p>
<p class="I">&nbsp;</p>
<p class="I">&nbsp;&nbsp;&nbsp;&nbsp;JNIEXPORT <span class="J">void</span> JNICALL Java_org_upp_AndroidMath_Vector_copyConstruct(</p>
<p class="I">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;JNIEnv <span class="J">*</span>env,</p>
<p class="I">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;jobject jobjThis,</p>
<p class="I">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;jobject jobjThat)</p>
<p class="I">&nbsp;&nbsp;&nbsp;&nbsp;{</p>
<p class="I">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mm<span class="J">.</span>MakeCopy(env, jobjThis, jobjThat);</p>
<p class="I">&nbsp;&nbsp;&nbsp;&nbsp;}</p>
<p class="I">&nbsp;</p>
<p class="I">&nbsp;&nbsp;&nbsp;&nbsp;JNIEXPORT <span class="J">void</span> JNICALL Java_org_upp_AndroidMath_Vector_nativeFinalize(</p>
<p class="I">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;JNIEnv <span class="J">*</span>env,</p>
<p class="I">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;jobject obj)</p>
<p class="I">&nbsp;&nbsp;&nbsp;&nbsp;{</p>
<p class="I">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mm<span class="J">.</span>Erase(env, obj);</p>
<p class="I">&nbsp;&nbsp;&nbsp;&nbsp;}</p>
<p class="I">&nbsp;&nbsp;&nbsp;&nbsp;</p>
<p class="I">&nbsp;&nbsp;&nbsp;&nbsp;JNIEXPORT jint JNICALL Java_org_upp_AndroidMath_Vector_getSize(</p>
<p class="I">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;JNIEnv <span class="J">*</span>env,</p>
<p class="I">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;jobject obj)</p>
<p class="I">&nbsp;&nbsp;&nbsp;&nbsp;{</p>
<p class="I">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Vector<span class="J">*</span> vec <span class="J">=</span> mm<span class="J">.</span>Get(env, obj);</p>
<p class="I">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</p>
<p class="I">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="J">return</span> vec<span class="J">-&gt;</span>GetSize();</p>
<p class="I">&nbsp;&nbsp;&nbsp;&nbsp;}</p>
<p class="I">&nbsp;</p>
<p class="I">&nbsp;&nbsp;&nbsp;&nbsp;JNIEXPORT jfloat JNICALL Java_org_upp_AndroidMath_Vector_get(</p>
<p class="I">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;JNIEnv <span class="J">*</span>env,</p>
<p class="I">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;jobject obj,</p>
<p class="I">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;jint id)</p>
<p class="I">&nbsp;&nbsp;&nbsp;&nbsp;{</p>
<p class="I">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Vector<span class="J">*</span> vec <span class="J">=</span> mm<span class="J">.</span>Get(env, obj);</p>
<p class="I">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</p>
<p class="I">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="J">return</span> vec<span class="J">-&gt;</span>Get(id);</p>
<p class="I">&nbsp;&nbsp;&nbsp;&nbsp;}</p>
<p class="I">&nbsp;&nbsp;&nbsp;&nbsp;</p>
<p class="I">&nbsp;&nbsp;&nbsp;&nbsp;JNIEXPORT <span class="J">void</span> JNICALL Java_org_upp_AndroidMath_Vector_set(</p>
<p class="I">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;JNIEnv <span class="J">*</span>env,</p>
<p class="I">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;jobject obj,</p>
<p class="I">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;jint id,</p>
<p class="I">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;jfloat value)</p>
<p class="I">&nbsp;&nbsp;&nbsp;&nbsp;{</p>
<p class="I">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Vector<span class="J">*</span> vec <span class="J">=</span> mm<span class="J">.</span>Get(env, obj);</p>
<p class="I">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;vec<span class="J">-&gt;</span>Set(id, value);</p>
<p class="I">&nbsp;&nbsp;&nbsp;&nbsp;}</p>
<p class="I">&nbsp;&nbsp;&nbsp;&nbsp;</p>
<p class="I">&nbsp;&nbsp;&nbsp;&nbsp;JNIEXPORT <span class="J">void</span> JNICALL Java_org_upp_AndroidMath_Vector_multipleByScalar(</p>
<p class="I">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;JNIEnv <span class="J">*</span>env,</p>
<p class="I">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;jobject obj,</p>
<p class="I">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;jfloat scalar)</p>
<p class="I">&nbsp;&nbsp;&nbsp;&nbsp;{</p>
<p class="I">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Vector<span class="J">*</span> vec <span class="J">=</span> mm<span class="J">.</span>Get(env, obj);</p>
<p class="I">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;vec<span class="J">-&gt;</span>MultipleByScalar(scalar);</p>
<p class="I">&nbsp;&nbsp;&nbsp;&nbsp;}</p>
<p class="I">&nbsp;&nbsp;&nbsp;&nbsp;</p>
<p class="I">&nbsp;&nbsp;&nbsp;&nbsp;JNIEXPORT jstring JNICALL Java_org_upp_AndroidMath_Vector_toString(</p>
<p class="I">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;JNIEnv <span class="J">*</span>env,</p>
<p class="I">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;jobject obj)</p>
<p class="I">&nbsp;&nbsp;&nbsp;&nbsp;{</p>
<p class="I">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Vector<span class="J">*</span> vec <span class="J">=</span> mm<span class="J">.</span>Get(env, obj);</p>
<p class="I">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</p>
<p class="I">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="J">return</span> env<span class="J">-&gt;</span>NewStringUTF((vec<span class="J">-&gt;</span>ToString())<span class="J">.</span>c_str());</p>
<p class="I">&nbsp;&nbsp;&nbsp;&nbsp;}</p>
<p class="I">&nbsp;</p>
<p class="I">} <span class="J">//</span> <span class="J">extern</span> &quot;C&quot;</p>
<p class="I">&nbsp;</p>
<p class="I">&nbsp;</p>
<p class="I">&nbsp;</p>
<p class="H">AndroidMathActivity.java</p>
<p class="I">&nbsp;</p>
<p class="I">package org<span class="J">.</span>upp<span class="J">.</span>AndroidMath;</p>
<p class="I">&nbsp;</p>
<p class="I"><span class="J">import</span> android<span class="J">.</span>app<span class="J">.</span>Activity;</p>
<p class="I"><span class="J">import</span> android<span class="J">.</span>widget<span class="J">.</span>TextView;</p>
<p class="I"><span class="J">import</span> android<span class="J">.</span>widget<span class="J">.</span>ScrollView;</p>
<p class="I"><span class="J">import</span> android<span class="J">.</span>os<span class="J">.</span>Bundle;</p>
<p class="I">&nbsp;</p>
<p class="I"><span class="J">public</span> <span class="J">class</span> AndroidMathActivity extends Activity</p>
<p class="I">{</p>
<p class="I">&nbsp;&nbsp;&nbsp;&nbsp;@Override</p>
<p class="I">&nbsp;&nbsp;&nbsp;&nbsp;<span class="J">public</span> <span class="J">void</span> onCreate(Bundle savedInstanceState)</p>
<p class="I">&nbsp;&nbsp;&nbsp;&nbsp;{</p>
<p class="I">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;super<span class="J">.</span>onCreate(savedInstanceState);</p>
<p class="I">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</p>
<p class="I">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ScrollView scroller <span class="J">=</span> <span class="J">new</span> ScrollView(<span class="J">this</span>);</p>
<p class="I">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TextView tv <span class="J">=</span> <span class="J">new</span> TextView(<span class="J">this</span>);</p>
<p class="I">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</p>
<p class="I">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;calculatePowerOperations(tv, 20);</p>
<p class="I">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;calculateVectorOperations(tv);</p>
<p class="I">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</p>
<p class="I">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;scroller<span class="J">.</span>addView(tv);</p>
<p class="I">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;setContentView(scroller);</p>
<p class="I">&nbsp;&nbsp;&nbsp;&nbsp;}</p>
<p class="I">&nbsp;</p>
<p class="I">&nbsp;&nbsp;&nbsp;&nbsp;<span class="J">private</span> <span class="J">void</span> calculatePowerOperations(TextView tv, <span class="J">int</span> maxPower)</p>
<p class="I">&nbsp;&nbsp;&nbsp;&nbsp;{</p>
<p class="I">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;String text <span class="J">=</span> &quot;Power<span class="J">:</span>\n&quot;;</p>
<p class="I">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="J">int</span> maxNumber <span class="J">=</span> maxPower;</p>
<p class="I">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="J">for</span>(<span class="J">int</span> i <span class="J">=</span> 1; i <span class="J">&lt;=</span> maxNumber; i<span class="J">++</span>) {</p>
<p class="I">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="J">int</span> pow <span class="J">=</span> AndroidMath<span class="J">.</span>power(i, 2);</p>
<p class="I">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;text <span class="J">+=</span> Integer<span class="J">.</span>toString(i) <span class="J">+</span> &quot;<span class="J">^</span>2 <span class="J">=</span> &quot; <span class="J">+</span> Integer<span class="J">.</span>toString(pow) <span class="J">+</span> &quot;\n&quot;;</p>
<p class="I">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</p>
<p class="I">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</p>
<p class="I">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tv<span class="J">.</span>append(text);</p>
<p class="I">&nbsp;&nbsp;&nbsp;&nbsp;}</p>
<p class="I">&nbsp;&nbsp;&nbsp;&nbsp;</p>
<p class="I">&nbsp;&nbsp;&nbsp;&nbsp;<span class="J">private</span> <span class="J">void</span> calculateVectorOperations(TextView tv)</p>
<p class="I">&nbsp;&nbsp;&nbsp;&nbsp;{</p>
<p class="I">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;String text <span class="J">=</span> &quot;Vector operations<span class="J">:</span>\n&quot;;</p>
<p class="I">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</p>
<p class="I">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Vector vec1 <span class="J">=</span> <span class="J">new</span> Vector(3);</p>
<p class="I">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;vec1<span class="J">.</span>set(0, 3<span class="J">.</span>0f);</p>
<p class="I">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;vec1<span class="J">.</span>set(1, <span class="J">-</span>1<span class="J">.</span>0f);</p>
<p class="I">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;vec1<span class="J">.</span>set(2, 5<span class="J">.</span>0f);</p>
<p class="I">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</p>
<p class="I">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;text <span class="J">+=</span> &quot;Vec1<span class="J">:</span> &quot; <span class="J">+</span> vec1<span class="J">.</span>toString() <span class="J">+</span> &quot;\n&quot;;</p>
<p class="I">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</p>
<p class="I">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Vector vec1Copy <span class="J">=</span> <span class="J">new</span> Vector(vec1);</p>
<p class="I">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;vec1Copy<span class="J">.</span>multipleByScalar(5<span class="J">.</span>0f);</p>
<p class="I">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;text <span class="J">+=</span> &quot;3 <span class="J">*</span> Vec1<span class="J">:</span> &quot; <span class="J">+</span> vec1Copy<span class="J">.</span>toString() <span class="J">+</span> &quot;\n&quot;;</p>
<p class="I">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</p>
<p class="I">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Vector vec2 <span class="J">=</span> <span class="J">new</span> Vector(4);</p>
<p class="I">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;vec2<span class="J">.</span>set(0, <span class="J">-</span>2<span class="J">.</span>0f);</p>
<p class="I">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;vec2<span class="J">.</span>set(1, 4<span class="J">.</span>0f);</p>
<p class="I">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;vec2<span class="J">.</span>set(2, 7<span class="J">.</span>0f);</p>
<p class="I">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;vec2<span class="J">.</span>set(3, <span class="J">-</span>9<span class="J">.</span>0f);</p>
<p class="I">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</p>
<p class="I">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;text <span class="J">+=</span> &quot;Vec2<span class="J">:</span> &quot; <span class="J">+</span> vec2<span class="J">.</span>toString() <span class="J">+</span> &quot;\n&quot;;</p>
<p class="I">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</p>
<p class="I">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tv<span class="J">.</span>append(text);</p>
<p class="I">&nbsp;&nbsp;&nbsp;&nbsp;}</p>
<p class="I">&nbsp;&nbsp;&nbsp;&nbsp;</p>
<p class="I">&nbsp;&nbsp;&nbsp;&nbsp;<span class="J">static</span> {</p>
<p class="I">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="J">//</span> For Android version less than 5<span class="J">.</span>0 we need to specific standard library</p>
<p class="I">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="J">//</span> If you have a crash uncomment library that you specific in your Android Builder</p>
<p class="K"><span class="L">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>//<span class="L"> specification</span>.</p>
<p class="I">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</p>
<p class="I">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="J">//</span> System<span class="J">.</span>loadLibrary(&quot;stlport_shared&quot;);</p>
<p class="I">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="J">//</span> System<span class="J">.</span>loadLibrary(&quot;gnustl_shared&quot;);</p>
<p class="I">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="J">//</span> System<span class="J">.</span>loadLibrary(&quot;c<span class="J">++</span>_shared&quot;);</p>
<p class="I">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</p>
<p class="K"><span class="L">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>//<span class="L"> In </span>this<span class="L"> place we are loading native libraries (In revers dependency order)</span>.</p>
<p class="K"><span class="L">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>//<span class="L"> IMPORTANT</span>:<span class="L"> Native library always has upp package name</span>!!!</p>
<p class="I">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;System<span class="J">.</span>loadLibrary(&quot;AndroidMathUtility&quot;);</p>
<p class="I">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;System<span class="J">.</span>loadLibrary(&quot;AndroidMath&quot;);</p>
<p class="I">&nbsp;&nbsp;&nbsp;&nbsp;}</p>
<p class="I">}</p>
<p class="I">&nbsp;</p>
<p class="I">&nbsp;</p>
<p class="I">&nbsp;</p>
<p class="H">AndroidMath.java</p>
<p class="I">&nbsp;</p>
<p class="I">package org<span class="J">.</span>upp<span class="J">.</span>AndroidMath;</p>
<p class="I">&nbsp;</p>
<p class="K">/**</p>
<p class="K"><span class="L"> </span>*<span class="L"> Native math functions from package AndroidMathUtility</span>.</p>
<p class="K"><span class="L"> </span>*/</p>
<p class="I"><span class="J">public</span> <span class="J">class</span> AndroidMath</p>
<p class="I">{</p>
<p class="I">&nbsp;&nbsp;&nbsp;&nbsp;<span class="J">private</span> AndroidMath() {}</p>
<p class="I">&nbsp;&nbsp;&nbsp;&nbsp;</p>
<p class="K"><span class="L">&nbsp;&nbsp;&nbsp;&nbsp;</span>//<span class="L"> Native stuff </span>-<span class="L"> C</span>/<span class="L">C</span>++</p>
<p class="I">&nbsp;&nbsp;&nbsp;&nbsp;<span class="J">public</span> <span class="J">static</span> native <span class="J">int</span> power(<span class="J">int</span> number, <span class="J">int</span> n);</p>
<p class="I">&nbsp;&nbsp;&nbsp;&nbsp;</p>
<p class="I">}</p>
<p class="I">&nbsp;</p>
<p class="I">&nbsp;</p>
<p class="I">&nbsp;</p>
<p class="H">Vector.java</p>
<p class="I">&nbsp;</p>
<p class="I">package org<span class="J">.</span>upp<span class="J">.</span>AndroidMath;</p>
<p class="I">&nbsp;</p>
<p class="K">/**</p>
<p class="K"><span class="L"> </span>*<span class="L"> Math vector </span>class<span class="L"> which whole implementation is native (c</span>/<span class="L">c</span>++<span class="L">)</span>.</p>
<p class="K"><span class="L"> </span>*/</p>
<p class="I"><span class="J">public</span> <span class="J">class</span> Vector</p>
<p class="I">{</p>
<p class="K"><span class="L">&nbsp;&nbsp;&nbsp;&nbsp;</span>/**</p>
<p class="K"><span class="L">&nbsp;&nbsp;&nbsp;&nbsp; </span>*<span class="L"> Field use by MemoryManager to store pointer to c</span>++<span class="L"> object</span>.</p>
<p class="I">&nbsp;&nbsp;&nbsp;&nbsp; <span class="J">*</span> If you want to use MemoryManager with your <span class="J">class</span> make sure you have <span class="J">this</span> field</p>
<p class="K"><span class="L">&nbsp;&nbsp;&nbsp;&nbsp; </span>*<span class="L"> in your </span>class.</p>
<p class="K"><span class="L">&nbsp;&nbsp;&nbsp;&nbsp; </span>*/</p>
<p class="I">&nbsp;&nbsp;&nbsp;&nbsp;<span class="J">private</span> <span class="J">long</span> nativeAdress <span class="J">=</span> 0;</p>
<p class="I">&nbsp;&nbsp;&nbsp;&nbsp;</p>
<p class="K"><span class="L">&nbsp;&nbsp;&nbsp;&nbsp;</span>/**</p>
<p class="I">&nbsp;&nbsp;&nbsp;&nbsp; <span class="J">*</span> We <span class="J">override</span> finalize method, because we need to destroy native c<span class="J">++</span> object when</p>
<p class="K"><span class="L">&nbsp;&nbsp;&nbsp;&nbsp; </span>*<span class="L"> there is </span>not<span class="L"> more reference to Java object</span>.<span class="L"> This method is called by </span>default</p>
<p class="K"><span class="L">&nbsp;&nbsp;&nbsp;&nbsp; </span>*<span class="L"> by garbage collector</span>.</p>
<p class="K"><span class="L">&nbsp;&nbsp;&nbsp;&nbsp; </span>*/</p>
<p class="I">&nbsp;&nbsp;&nbsp;&nbsp;@Override</p>
<p class="I">&nbsp;&nbsp;&nbsp;&nbsp;<span class="J">protected</span> <span class="J">void</span> finalize() throws Throwable</p>
<p class="I">&nbsp;&nbsp;&nbsp;&nbsp;{</p>
<p class="I">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nativeFinalize();</p>
<p class="I">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;super<span class="J">.</span>finalize();</p>
<p class="I">&nbsp;&nbsp;&nbsp;&nbsp;}</p>
<p class="I">&nbsp;&nbsp;&nbsp;&nbsp;</p>
<p class="I">&nbsp;&nbsp;&nbsp;&nbsp;<span class="J">public</span> Vector(<span class="J">int</span> size)</p>
<p class="I">&nbsp;&nbsp;&nbsp;&nbsp;{</p>
<p class="I">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;construct(size);</p>
<p class="I">&nbsp;&nbsp;&nbsp;&nbsp;}</p>
<p class="I">&nbsp;&nbsp;&nbsp;&nbsp;</p>
<p class="I">&nbsp;&nbsp;&nbsp;&nbsp;<span class="J">public</span> Vector(Vector vec)</p>
<p class="I">&nbsp;&nbsp;&nbsp;&nbsp;{</p>
<p class="I">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;copyConstruct(vec);</p>
<p class="I">&nbsp;&nbsp;&nbsp;&nbsp;}</p>
<p class="I">&nbsp;&nbsp;&nbsp;&nbsp;</p>
<p class="K"><span class="L">&nbsp;&nbsp;&nbsp;&nbsp;</span>//<span class="L"> Native stuff </span>-<span class="L"> C</span>/<span class="L">C</span>++</p>
<p class="I">&nbsp;&nbsp;&nbsp;&nbsp;<span class="J">public</span> native <span class="J">int</span> &nbsp;&nbsp;getSize();</p>
<p class="I">&nbsp;&nbsp;&nbsp;&nbsp;<span class="J">public</span> native <span class="J">float</span> get(<span class="J">int</span> id);</p>
<p class="I">&nbsp;&nbsp;&nbsp;&nbsp;</p>
<p class="I">&nbsp;&nbsp;&nbsp;&nbsp;<span class="J">public</span> native <span class="J">void</span> set(<span class="J">int</span> id, <span class="J">float</span> value);</p>
<p class="I">&nbsp;&nbsp;&nbsp;&nbsp;</p>
<p class="I">&nbsp;&nbsp;&nbsp;&nbsp;<span class="J">public</span> native <span class="J">void</span> multipleByScalar(<span class="J">float</span> scalar);</p>
<p class="I">&nbsp;&nbsp;&nbsp;&nbsp;</p>
<p class="I">&nbsp;&nbsp;&nbsp;&nbsp;<span class="J">public</span> native String toString();</p>
<p class="I">&nbsp;&nbsp;&nbsp;&nbsp;</p>
<p class="I">&nbsp;&nbsp;&nbsp;&nbsp;<span class="J">private</span> native <span class="J">void</span> construct(<span class="J">int</span> size);</p>
<p class="I">&nbsp;&nbsp;&nbsp;&nbsp;<span class="J">private</span> native <span class="J">void</span> copyConstruct(Vector vec);</p>
<p class="I">&nbsp;&nbsp;&nbsp;&nbsp;<span class="J">private</span> native <span class="J">void</span> nativeFinalize();</p>
<p class="I">}</p>
<p class="I">&nbsp;</p>
<p class="I">&nbsp;</p>
<p class="I">&nbsp;</p>
<p class="H">AndroidManifest.xml</p>
<p class="I">&nbsp;</p>
<p class="K">&lt;?<span class="L">xml version</span>=<span class="L">&quot;1</span>.<span class="L">0&quot; encoding</span>=<span class="L">&quot;utf</span>-<span class="L">8&quot;</span>?&gt;</p>
<p class="I"><span class="J">&lt;</span>manifest xmlns<span class="J">:</span>android<span class="J">=</span>&quot;http<span class="J">://</span>schemas<span class="J">.</span>android<span class="J">.</span>com<span class="J">/</span>apk<span class="J">/</span>res<span class="J">/</span>android&quot;</p>
<p class="K"><span class="L"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;package</span>=<span class="L">&quot;org</span>.<span class="L">upp</span>.<span class="L">AndroidMath&quot;</span>&gt;</p>
<p class="K"><span class="L">&nbsp;&nbsp;&nbsp;&nbsp;</span>&lt;<span class="L">uses</span>-<span class="L">sdk android</span>:<span class="L">minSdkVersion</span>=<span class="L">&quot;21&quot; </span>/&gt;</p>
<p class="I"> &nbsp;&nbsp;&nbsp;<span class="J">&lt;</span>application</p>
<p class="K"><span class="L">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;android</span>:<span class="L">allowBackup</span>=<span class="L">&quot;</span>true<span class="L">&quot;</span>&gt;</p>
<p class="I"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="J">&lt;</span>activity android<span class="J">:</span>name<span class="J">=</span>&quot;<span class="J">.</span>AndroidMathActivity&quot;</p>
<p class="K"><span class="L"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;android</span>:<span class="L">label</span>=<span class="L">&quot;AndroidMath&quot;</span>&gt;</p>
<p class="K"><span class="L"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>&lt;<span class="L">intent</span>-<span class="L">filter</span>&gt;</p>
<p class="K"><span class="L"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>&lt;<span class="L">action android</span>:<span class="L">name</span>=<span class="L">&quot;android</span>.<span class="L">intent</span>.<span class="L">action</span>.<span class="L">MAIN&quot; </span>/&gt;</p>
<p class="K"><span class="L"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>&lt;<span class="L">category android</span>:<span class="L">name</span>=<span class="L">&quot;android</span>.<span class="L">intent</span>.<span class="L">category</span>.<span class="L">LAUNCHER&quot; </span>/&gt;</p>
<p class="K"><span class="L"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>&lt;/<span class="L">intent</span>-<span class="L">filter</span>&gt;</p>
<p class="K"><span class="L"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>&lt;/<span class="L">activity</span>&gt;</p>
<p class="K"><span class="L">&nbsp;&nbsp;&nbsp;&nbsp;</span>&lt;/<span class="L">application</span>&gt;</p>
<p class="K">&lt;/<span class="L">manifest</span>&gt;</p>
<p class="I">&nbsp;</p>
<p class="I">&nbsp;</p>
<p class="I">&nbsp;</p>
<p class="I">&nbsp;</p>
</TD>
</TR>
</TABLE>
</TD>
</TR>
</TABLE>
<TABLE BORDER="0" WIDTH="100%"><TR><TD></TD>
</TR>
</TABLE>
<TABLE BORDER="0" CELLSPACING="0" CELLPADDING="0" BGCOLOR="#FFFFFF" WIDTH="100%" style="border-style: solid; border-width: 1px; border-color: #6E89AE;padding: 10px;;"><TR><TD><TABLE BORDER="0" CELLSPACING="0" CELLPADDING="0" WIDTH="100%"><TR><TD><p class="A"><span class="B"> </span><a href="www$uppweb$contribweb$en-us.html">Do you want to contribute?</a></p>
</TD>
</TR>
</TABLE>
</TD>
</TR>
</TABLE>
</TD>
</TR>
</TABLE>
<script type="text/javascript">var a={'examples$AndroidMath$en-us.html':'English'};var p=window.location.pathname.split("/");p=p[p.length-1];var s='<select id="lang" onchange="window.location=document.getElementById(\'lang\').value;">';for(l in a){if(p==l){d=" selected=1"}else{d=""}s+='<option value="'+l+'"'+d+'>'+a[l]+'</option>'}s+='</select>';var d=document.createElement('div');d.innerHTML=s;var c=document.getElementById('langs');c.replaceChild(d,c.firstChild);document.getElementById('langbox').style.display='block';</script></BODY>
