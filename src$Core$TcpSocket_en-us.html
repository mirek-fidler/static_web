<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML lang="en-us">
<HEAD>
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=utf-8">
<META NAME="Generator" CONTENT="U++ HTML Package">
<TITLE>TcpSocket :: U++</TITLE>
<STYLE TYPE="text/css"><!--
.A{margin:0px 0px 0px 0px;text-indent:0px;text-align:left;color:#000000;font-family:sans-serif;font-size:10pt;font-weight:normal;font-style:normal;}
.B{font-size:12pt;}
.C{border-collapse:collapse;table-layout:auto;border: 2px solid #000000;}
.D{padding: 3px 5px 3px 5px;border-left: 1px solid #000000;border-top: 1px solid #000000;border-right: 1px solid #000000;border-bottom: 1px solid #000000;background-color:#712A00;vertical-align:middle;}
.E{margin:0px 0px 0px 0px;text-indent:0px;text-align:left;color:#e0e0e0;font-family:sans-serif;font-size:16pt;font-weight:bold;font-style:normal;}
.F{margin:0px 0px 0px 0px;text-indent:0px;text-align:left;color:#000000;font-family:sans-serif;font-size:6pt;font-weight:normal;font-style:normal;}
.G{margin:0px 0px 5px 0px;text-indent:0px;text-align:left;color:#000000;font-family:sans-serif;font-size:12pt;font-weight:bold;font-style:normal;}
.H{color:#0000ff;font-weight:normal;}
.I{font-weight:normal;}
.J{margin:0px 0px 0px 57px;text-indent:0px;text-align:left;color:#000000;font-family:sans-serif;font-size:10pt;font-weight:normal;font-style:normal;}
.K{border-collapse:collapse;table-layout:auto;border: 2px solid #808080;}
.L{padding: 3px 5px 3px 5px;border-left: 1px solid #808080;border-top: 1px solid #808080;border-right: 1px solid #808080;border-bottom: 1px solid #808080;background-color:#C0C0C0;vertical-align:middle;}
.M{margin:0px 0px 0px 0px;text-indent:0px;text-align:left;color:#000000;font-family:sans-serif;font-size:10pt;font-weight:bold;font-style:normal;}
.N{margin:0px 0px 5px 0px;text-indent:0px;text-align:left;color:#000000;font-family:sans-serif;font-size:10pt;font-weight:bold;font-style:normal;}
.O{margin:0px 0px 5px 0px;text-indent:0px;text-align:left;color:#000000;font-family:sans-serif;font-size:10pt;font-weight:normal;font-style:normal;}
.P{color:#0000ff;}
.Q{font-weight:bold;}
.R{margin:0px 0px 5px 0px;text-indent:0px;text-align:left;color:#0000ff;font-family:sans-serif;font-size:10pt;font-weight:normal;font-style:normal;}
.S{color:#000000;}
.T{color:#000000;font-weight:bold;}
.U{color:#800000;font-weight:bold;}
.V{color:#800000;}
a.l1         { text-decoration:none; font-size: 8pt; font-family: sans-serif; font-weight: normal; }
a.l1:link    { color:#000000; }
a.l1:visited { color:#000080; }
a.l1:hover   { color:#9933CC; }
a.l1:active  { color:#000000; }
a.l2         { text-decoration:none; font-size: 12pt; font-family: sans-serif; font-variant: small-caps; }
a.l2:link    { color:#0066FF; }
a.l2:visited { color:#FF6600; }
a.l2:hover   { color:#BC0624; }
a.l2:active  { color:#BC0024; }

-->
</STYLE>
<META NAME="keywords" CONTENT="framework, toolkit, widget, c++, visual, studio, dev-cpp, builder, ide, class, component,wxwidgets, qt, rapid, application, development, rad, mfc, linux, macos, gui, sdl, directx, desktop"><META name="robots" content="index,follow">
<LINK rel="alternate" type="application/rss+xml" title="SVN changes" href="svnchanges.xml">
<LINK rel="shortcut icon" type="image/png" href="favicon.png">
</HEAD><BODY BGCOLOR="#D2D9D2" ALINK="#800000" LINK="#000000" VLINK="#000080"><TABLE BORDER="0" CELLSPACING="0" CELLPADDING="0" WIDTH="100%"><TR><TD COLSPAN="3"><TABLE BORDER="0" CELLSPACING="0" CELLPADDING="0" WIDTH="100%" BGCOLOR="#FFFFFF" style="border: 1px solid #6E89AE;padding-left: 10px;padding-right: 0px;padding-top: 0px;padding-bottom: 0px;"><TR><TD><A HREF="index.html"><IMG SRC="0i.png" ALT="" BORDER="0"></A>
</TD>
<TD ALIGN="RIGHT" VALIGN="BOTTOM" STYLE="padding-bottom: 5px; background-image: url('1i.png')"><span style="font-size: 14pt; font-family: sans-serif;"><script type="text/javascript"><!--
google_ad_client = "pub-1082147624384270";
google_ad_width = 468;
google_ad_height = 60;
google_ad_format = "468x60_as";
google_ad_type = "text_image";
google_ad_channel = "";
google_color_border = "336699";
google_color_bg = "FFFFFF";
google_color_link = "0000FF";
google_color_text = "000000";
google_color_url = "008000";
//--></script>
<script type="text/javascript"
  src="https://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
&nbsp;&nbsp;</span>
</TD>
</TR>
</TABLE>
</TD>
</TR>
</TABLE>
<TABLE BORDER="0" CELLSPACING="0" CELLPADDING="0" WIDTH="100%"><TR><TD COLSPAN="3" BGCOLOR="#D2D9D2" HEIGHT="6"></TD>
</TR>
<TR><TD VALIGN="TOP" ALIGN="CENTER"><TABLE BORDER="0" CELLSPACING="0" CELLPADDING="0" WIDTH="160"><TR><TD ALIGN="CENTER"><TABLE BORDER="0" CELLSPACING="0" CELLPADDING="0" WIDTH="100%" BGCOLOR="#FFFFFF" style="border-style: solid; border-width: 1px; border-color: #6E89AE;padding: 0px"><TR><TD WIDTH="100%" VALIGN="MIDDLE" STYLE="background-image: url('2i.png'); border: 0px solid black; padding-left:12px; padding-right:0px; padding-top:6px; padding-bottom:6px;"><A HREF="www$uppweb$overview$en-us.html" CLASS="l1">Overview</A>
</TD>
</TR>
<TR><TD WIDTH="100%" VALIGN="MIDDLE" STYLE="background-image: url('2i.png'); border: 0px solid black; padding-left:12px; padding-right:0px; padding-top:6px; padding-bottom:6px; border-top: 1px solid #6E89AE;"><A HREF="www$uppweb$examples$en-us.html" CLASS="l1">Examples</A>
</TD>
</TR>
<TR><TD WIDTH="100%" VALIGN="MIDDLE" STYLE="background-image: url('2i.png'); border: 0px solid black; padding-left:12px; padding-right:0px; padding-top:6px; padding-bottom:6px; border-top: 1px solid #6E89AE;"><A HREF="www$uppweb$ss$en-us.html" CLASS="l1">Screenshots</A>
</TD>
</TR>
<TR><TD WIDTH="100%" VALIGN="MIDDLE" STYLE="background-image: url('2i.png'); border: 0px solid black; padding-left:12px; padding-right:0px; padding-top:6px; padding-bottom:6px; border-top: 1px solid #6E89AE;"><A HREF="www$uppweb$comparison$en-us.html" CLASS="l1">Comparisons</A>
</TD>
</TR>
<TR><TD WIDTH="100%" VALIGN="MIDDLE" STYLE="background-image: url('2i.png'); border: 0px solid black; padding-left:12px; padding-right:0px; padding-top:6px; padding-bottom:6px; border-top: 1px solid #6E89AE;"><A HREF="www$uppweb$apps$en-us.html" CLASS="l1">Applications</A>
</TD>
</TR>
<TR><TD WIDTH="100%" VALIGN="MIDDLE" STYLE="background-image: url('2i.png'); border: 0px solid black; padding-left:12px; padding-right:0px; padding-top:6px; padding-bottom:6px; border-top: 1px solid #6E89AE;"><A HREF="www$uppweb$download$en-us.html" CLASS="l1">Download</A>
</TD>
</TR>
<TR><TD WIDTH="100%" VALIGN="MIDDLE" STYLE="background-image: url('2i.png'); border: 0px solid black; padding-left:12px; padding-right:0px; padding-top:6px; padding-bottom:6px; border-top: 1px solid #6E89AE;"><A HREF="www$uppweb$documentation$en-us.html" CLASS="l1">Documentation</A>
</TD>
</TR>
<TR><TD WIDTH="100%" VALIGN="MIDDLE" STYLE="background-image: url('2i.png'); border: 0px solid black; padding-left:12px; padding-right:0px; padding-top:6px; padding-bottom:6px; border-top: 1px solid #6E89AE;"><A HREF="www$uppweb$Tutorials$en-us.html" CLASS="l1">Tutorials</A>
</TD>
</TR>
<TR><TD WIDTH="100%" VALIGN="MIDDLE" STYLE="background-image: url('2i.png'); border: 0px solid black; padding-left:12px; padding-right:0px; padding-top:6px; padding-bottom:6px; border-top: 1px solid #6E89AE;"><A HREF="app$ide$UppHub$en-us.html" CLASS="l1">UppHub</A>
</TD>
</TR>
<TR><TD WIDTH="100%" VALIGN="MIDDLE" STYLE="background-image: url('2i.png'); border: 0px solid black; padding-left:12px; padding-right:0px; padding-top:6px; padding-bottom:6px; border-top: 1px solid #6E89AE;"><A HREF="www$uppweb$Roadmap$en-us.html" CLASS="l1">Status & Roadmap</A>
</TD>
</TR>
<TR><TD WIDTH="100%" VALIGN="MIDDLE" STYLE="background-image: url('2i.png'); border: 0px solid black; padding-left:12px; padding-right:0px; padding-top:6px; padding-bottom:6px; border-top: 1px solid #6E89AE;"><A HREF="www$uppweb$FAQ$en-us.html" CLASS="l1">FAQ</A>
</TD>
</TR>
<TR><TD WIDTH="100%" VALIGN="MIDDLE" STYLE="background-image: url('2i.png'); border: 0px solid black; padding-left:12px; padding-right:0px; padding-top:6px; padding-bottom:6px; border-top: 1px solid #6E89AE;"><A HREF="app$ide$About$en-us.html" CLASS="l1">Authors & License</A>
</TD>
</TR>
<TR><TD WIDTH="100%" VALIGN="MIDDLE" STYLE="background-image: url('2i.png'); border: 0px solid black; padding-left:12px; padding-right:0px; padding-top:6px; padding-bottom:6px; border-top: 1px solid #6E89AE;"><A HREF="https://www.ultimatepp.org/forums" CLASS="l1">Forums</A>
</TD>
</TR>
<TR><TD WIDTH="100%" VALIGN="MIDDLE" STYLE="background-image: url('2i.png'); border: 0px solid black; padding-left:12px; padding-right:0px; padding-top:6px; padding-bottom:6px; border-top: 1px solid #6E89AE;"><A HREF="www$uppweb$Funding$en-us.html" CLASS="l1">Funding U++</A>
</TD>
</TR>
</TABLE>
<TABLE BORDER="0" WIDTH="100%"><TR><TD></TD>
</TR>
</TABLE>
<TABLE BORDER="0" CELLSPACING="0" CELLPADDING="0" WIDTH="100%" BGCOLOR="#FFFFFF" style="border-style: solid; border-width: 1px; border-color: #6E89AE;padding: 0px"><TR><TD WIDTH="100%" VALIGN="MIDDLE" STYLE="background-image: url('3i.png'); border: 0px solid black;padding-left:12px; padding-right:0px; padding-top:1px; padding-bottom:1px;color:#FFFFFF;"><B><span style="font-size: 8pt; font-family: sans-serif;">Search on this site</span>
</B>
</TD>
</TR>
<TR><TD WIDTH="100%" VALIGN="MIDDLE" STYLE="background-image: url('2i.png'); border: 0px solid black; padding-left:6px; padding-right:0px; padding-top:4px; padding-bottom:4px;border-top: 1px solid #6E89AE;"><TABLE BORDER="0" CELLSPACING="0" CELLPADDING="0" WIDTH="100%"><TR><TD><IMG SRC="4i.png" ALT="" BORDER="0"></TD>
<TD><FORM ACTION="https://www.google.com/search" METHOD="GET" STYLE="margin:0px;padding:0px;"><INPUT TYPE="HIDDEN" NAME="ie" VALUE="UTF-8"><INPUT TYPE="HIDDEN" NAME="oe" VALUE="UTF-8"><INPUT TYPE="TEXT" NAME="q" SIZE="15" MAXLENGTH="256" placeholder="Site search"><INPUT TYPE="HIDDEN" NAME="sitesearch" VALUE="ultimatepp.org"></FORM>
</TD>
</TR>
</TABLE>
</TD>
</TR>
</TABLE>
<TABLE BORDER="0" WIDTH="100%"><TR><TD></TD>
</TR>
</TABLE>
<br><div id="fb-root"></div>
<script type="text/javascript">(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) {return;}
  js = d.createElement(s); js.id = id;
  js.src = "//connect.facebook.net/en_US/all.js#xfbml=1";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>

<div class="fb-like" data-href="https://www.facebook.com/pages/Upp-Framework/262346610476027?sk=wall" data-send="false" data-layout="button_count" data-width="160" data-show-faces="false" data-font="arial"></div>
<br><br><script type="text/javascript"><!--
google_ad_client = "pub-1082147624384270";
google_ad_width = 160;
google_ad_height = 600;
google_ad_format = "160x600_as";
google_ad_type = "text_image";
google_ad_channel = "";
google_color_border = "336699";
google_color_bg = "FFFFFF";
google_color_link = "0000FF";
google_color_text = "000000";
google_color_url = "008000";
//--></script>
<script type="text/javascript"
  src="https://pagead2.googlesyndication.com/pagead/show_ads.js">
</script><br><br><script type="text/javascript"><!--
google_ad_client = "pub-1082147624384270";
google_ad_width = 160;
google_ad_height = 90;
google_ad_format = "160x90_0ads_al_s";
google_ad_channel = "";
google_color_border = "336699";
google_color_bg = "FFFFFF";
google_color_link = "0000FF";
google_color_text = "000000";
google_color_url = "008000";
//--></script>
<script type="text/javascript"
  src="https://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
<br><br><br><br><br><br><A HREF="https://sourceforge.net/projects/upp/"><IMG SRC="https://sourceforge.net/sflogo.php?group_id=93970&amp;type=2" ALT="SourceForge.net Logo" BORDER="0" WIDTH="125" HEIGHT="37"></A>
<br><br><A HREF="https://flathub.org/en/apps/org.ultimatepp.TheIDE"><IMG SRC="5i.png" ALT="SourceForge.net Logo" BORDER="0" WIDTH="125" HEIGHT="37"></A>
<br><br><div style="background-color:#ffffff;width:125;height:35"><A HREF="https://github.com/ultimatepp"><IMG SRC="6i.png" ALT="GitHub Logo" BORDER="0" WIDTH="125" HEIGHT="35"></A>
</div><br><div style="background-color:#ffffff;width:125;height:35"><div style="height:5"></div><A HREF="https://discord.gg/8XzqQzXZzb"><IMG SRC="https://assets-global.website-files.com/6257adef93867e50d84d30e2/636e0b5061df29d55a92d945_full_logo_blurple_RGB.svg" ALT="Discord Logo" BORDER="0" WIDTH="125" HEIGHT="25"></A>
</div><br></TD>
</TR>
</TABLE>
</TD>
<TD VALIGN="TOP" BGCOLOR="#D2D9D2"><TABLE BORDER="0" CELLSPACING="0" CELLPADDING="0" WIDTH="6"><TR><TD></TD>
</TR>
</TABLE>
</TD>
<TD VALIGN="TOP" WIDTH="100%" BGCOLOR="#D2D9D2"><TABLE BORDER="0" CELLSPACING="0" CELLPADDING="0" BGCOLOR="#FFFFFF" WIDTH="100%" style="border-style: solid; border-width: 1px; border-color: #6E89AE;padding: 10px;;"><TR><TD><TABLE BORDER="0" CELLSPACING="0" CELLPADDING="0" WIDTH="100%"><TR><TD><table width="100%" border="0" cellpadding="0" cellspacing="0"><tr><td width="100%"><table width="100%" class="C"><colgroup><col width="100%"></colgroup>
<tr><td class="D"><p class="E">TcpSocket</p>
</td>
</tr>
</table></td>
</tr></table>
<p class="F">&nbsp;</p>
<p id="TcpSocket::class" class="G"><span class="H">class</span><span class="I">&nbsp;</span>TcpSocket</p>
<p class="J">This class represents an TCP/IP socket. It extends the basic semantics of sockets to allow non-blocking or time constrained operations.</p>
<p class="F">&nbsp;</p>
<table width="100%" border="0" cellpadding="0" cellspacing="0"><tr><td width="100%"><table width="100%" class="K"><colgroup><col width="100%"></colgroup>
<tr><td class="L"><p class="M">Public Method List</p>
</td>
</tr>
</table></td>
</tr></table>
<p class="F">&nbsp;</p>
<p id="TcpSocket::WhenWait" class="N"><a href="src$Core$Callbacks$en-us.html#Callback::class"><span class="I"><u>Callback</u></span></a><span class="I">&nbsp;</span>WhenWait</p>
<p class="J">If this callback is defined, it is invoked periodically while TcpSocket performs any operations, with the period set by WaitStep (default 10ms / 100hz). This is intended to give user feedback in interactive applications.</p>
<p class="F">&nbsp;</p>
<hr><p class="F">&nbsp;</p>
<p id="TcpSocket::GetHostName()" class="O"><span class="P">static</span> <a href="src$Core$String$en-us.html#String::class"><u>String</u></a>&nbsp;<span class="Q">GetHostName</span>()</p>
<p class="J">Returns the name of computer.</p>
<p class="F">&nbsp;</p>
<hr><p class="F">&nbsp;</p>
<p id="TcpSocket::GetDone()const" class="R">int<span class="S">&nbsp;</span><span class="T">GetDone</span><span class="S">()&nbsp;</span>const</p>
<p class="J">Returns number of bytes processed during current operation; intended to be called from WhenWait routine</p>
<p class="F">&nbsp;</p>
<hr><p class="F">&nbsp;</p>
<p id="TcpSocket::IsOpen()const" class="R">bool<span class="S">&nbsp;</span><span class="T">IsOpen</span><span class="S">()&nbsp;</span>const</p>
<p class="J">Returns true if socket is open.</p>
<p class="F">&nbsp;</p>
<hr><p class="F">&nbsp;</p>
<p id="TcpSocket::IsEof()const" class="R">bool<span class="S">&nbsp;</span><span class="T">IsEof</span><span class="S">()&nbsp;</span>const</p>
<p class="J">Returns true if there are no more input data to process. Also returns true if socket is not open, if there was an error or if socket was aborted.</p>
<p class="F">&nbsp;</p>
<hr><p class="F">&nbsp;</p>
<p id="TcpSocket::IsError()const" class="R">bool<span class="S">&nbsp;</span><span class="T">IsError</span><span class="S">()&nbsp;</span>const</p>
<p class="J">Returns true if some previous operations reported error. In that case, all subsequent request are ignored.</p>
<p class="F">&nbsp;</p>
<hr><p class="F">&nbsp;</p>
<p id="TcpSocket::ClearError()" class="O"><span class="P">void</span>&nbsp;<span class="Q">ClearError</span>()</p>
<p class="J">Clears the error state.</p>
<p class="F">&nbsp;</p>
<hr><p class="F">&nbsp;</p>
<p id="TcpSocket::GetError()const" class="R">int<span class="S">&nbsp;</span><span class="T">GetError</span><span class="S">()&nbsp;</span>const</p>
<p class="J">Returns errorcode. Errorcodes are either defined by SOCKET API or it can be -1 for other errors.</p>
<p class="F">&nbsp;</p>
<hr><p class="F">&nbsp;</p>
<p id="TcpSocket::GetErrorDesc()const" class="R"><a href="src$Core$String$en-us.html#String::class"><span class="S"><u>String</u></span></a><span class="S">&nbsp;</span><span class="T">GetErrorDesc</span><span class="S">()&nbsp;</span>const</p>
<p class="J">Returns description of error.</p>
<p class="F">&nbsp;</p>
<hr><p class="F">&nbsp;</p>
<p id="TcpSocket::Abort()" class="O"><span class="P">void</span>&nbsp;<span class="Q">Abort</span>()</p>
<p class="J">Sets TcpSocket to aborted state. In aborted state, all subsequent request are ignored. Intended to be called from WhenWait routine.</p>
<p class="F">&nbsp;</p>
<hr><p class="F">&nbsp;</p>
<p id="TcpSocket::IsAbort()const" class="R">bool<span class="S">&nbsp;</span><span class="T">IsAbort</span><span class="S">()&nbsp;</span>const</p>
<p class="J">Returns true is TcpSocket is in aborted state.</p>
<p class="F">&nbsp;</p>
<hr><p class="F">&nbsp;</p>
<p id="TcpSocket::ClearAbort()" class="O"><span class="P">void</span>&nbsp;<span class="Q">ClearAbort</span>()</p>
<p class="J">Clears the aborted state.</p>
<p class="F">&nbsp;</p>
<hr><p class="F">&nbsp;</p>
<p id="TcpSocket::IsTimeout()const" class="R">bool<span class="S">&nbsp;</span><span class="T">IsTimeout</span><span class="S">()&nbsp;</span>const</p>
<p class="J">Returns true if the last operation time-outed.</p>
<p class="F">&nbsp;</p>
<hr><p class="F">&nbsp;</p>
<p id="TcpSocket::GetSOCKET()const" class="R"><span class="S">SOCKET&nbsp;</span><span class="T">GetSOCKET</span><span class="S">()&nbsp;</span>const</p>
<p class="J">Returns socket handle. Note that all TcpSocket sockets are non-blocking from host OS perspective.</p>
<p class="F">&nbsp;</p>
<hr><p class="F">&nbsp;</p>
<p id="TcpSocket::GetPeerAddr()const" class="R"><a href="src$Core$String$en-us.html#String::class"><span class="S"><u>String</u></span></a><span class="S">&nbsp;</span><span class="T">GetPeerAddr</span><span class="S">()&nbsp;</span>const</p>
<p class="J">Returns the peer address.</p>
<p class="F">&nbsp;</p>
<hr><p class="F">&nbsp;</p>
<p id="TcpSocket::Attach(SOCKET)" class="O"><span class="P">void</span>&nbsp;<span class="Q">Attach</span>(SOCKET&nbsp;<span class="U">socket</span>)</p>
<p class="J">Attaches <span class="U">socket</span> to TcpSocket. <span class="U">socket</span> must be in non-blocking state.</p>
<p class="F">&nbsp;</p>
<hr><p class="F">&nbsp;</p>
<p id="TcpSocket::Connect(const char*,int)" class="O"><span class="P">bool</span>&nbsp;<span class="Q">Connect</span>(<span class="P">const</span>&nbsp;<span class="P">char</span>&nbsp;*<span class="U">host</span>, <span class="P">int</span>&nbsp;<span class="U">port</span>)</p>
<p class="J">Connects socket to server at <span class="U">host</span>:<span class="U">port</span>. This operation is blocking with respect to resolving host name. Returns true when connection process is successfully started.</p>
<p class="F">&nbsp;</p>
<hr><p class="F">&nbsp;</p>
<p id="TcpSocket::Connect(IpAddrInfo&)" class="O"><span class="P">bool</span>&nbsp;<span class="Q">Connect</span>(<a href="src$Core$IpAddrInfo$en-us.html#IpAddrInfo::class"><u>IpAddrInfo</u></a><span class="P">&amp;</span>&nbsp;<span class="U">info</span>)</p>
<p class="J">Connects socket to server found at <span class="U">info</span>. Non-blocking.</p>
<p class="F">&nbsp;</p>
<hr><p class="F">&nbsp;</p>
<p id="TcpSocket::WaitConnect()" class="O"><span class="P">bool</span>&nbsp;<span class="Q">WaitConnect</span>()</p>
<p class="J">After Connect returns true, WaitConnect waits for connection to be established. Note that it is only necessary to use WaitConnect if you want to intercept errors before sending/recieving data.</p>
<p class="F">&nbsp;</p>
<hr><p class="F">&nbsp;</p>
<p id="TcpSocket::Listen(int,int,bool,bool,void*)" class="O"><span class="P">bool</span>&nbsp;<span class="Q">Listen</span>(<span class="P">int</span>&nbsp;<span class="U">port</span>, <span class="P">int</span>&nbsp;<span class="U">listen_count</span>&nbsp;=&nbsp;<span class="V">5</span>, <span class="P">bool</span>&nbsp;<span class="U">ipv6</span>&nbsp;=&nbsp;<span class="P">false</span>, <span class="P">bool</span>&nbsp;<span class="U">reuse</span>&nbsp;=&nbsp;<span class="P">true</span>, <span class="P">void*</span>&nbsp;<span class="U">addr</span>&nbsp;=&nbsp;NULL)</p>
<p id="TcpSocket::Listen(const IpAddrInfo&,int,int,bool,bool)" class="O"><span class="P">bool</span>&nbsp;<span class="Q">Listen</span>(<span class="P">const</span>&nbsp;<a href="src$Core$IpAddrInfo$en-us.html#IpAddrInfo::class"><u>IpAddrInfo</u></a><span class="P">&amp;</span>&nbsp;<span class="U">addr</span>, <span class="P">int</span>&nbsp;<span class="U">port</span>, <span class="P">int</span>&nbsp;<span class="U">listen_count</span>&nbsp;=&nbsp;<span class="V">5</span>, <span class="P">bool</span>&nbsp;<span class="U">ipv6</span>&nbsp;=&nbsp;<span class="P">false</span>, <span class="P">bool</span>&nbsp;<span class="U">reuse</span>&nbsp;=&nbsp;<span class="P">true</span>)</p>
<p class="J">Starts a listening server socket at <span class="U">port</span> with input queue <span class="U">listen_count</span>. <span class="U">ipv6</span> sets the socket to IPv6 mode, <span class="U">reuse</span> sets <a href="http://www.kernel.org/doc/man-pages/online/pages/man7/socket.7.html">SO_REUSEADDR</a> socket option. <span class="U">addr</span> can be used to specify on what interface to listen on. As last void* parameter, it has to be pointer to uint32 that is dereferenced and assigned to sockaddr_in::sin_addr.s_addr for ipv6==true and/or in6_addr to be dereferenced and assigned to sockaddr_in6::sin6_addr for ipv6==true.</p>
<p class="F">&nbsp;</p>
<hr><p class="F">&nbsp;</p>
<p id="TcpSocket::Accept(TcpSocket&)" class="O"><span class="P">bool</span>&nbsp;<span class="Q">Accept</span>(<a href="src$Core$TcpSocket$en-us.html#TcpSocket::class"><u>TcpSocket</u></a><span class="P">&amp;</span>&nbsp;<span class="U">listen_socket</span>)</p>
<p class="J">Accepts a connection from <span class="U">listen_socket</span>.</p>
<p class="F">&nbsp;</p>
<hr><p class="F">&nbsp;</p>
<p id="TcpSocket::Close()" class="O"><span class="P">void</span>&nbsp;<span class="Q">Close</span>()</p>
<p class="J">Closes the socket.</p>
<p class="F">&nbsp;</p>
<hr><p class="F">&nbsp;</p>
<p id="TcpSocket::Shutdown()" class="O"><span class="P">void</span>&nbsp;<span class="Q">Shutdown</span>()</p>
<p class="J">Performs shutdown for write operations. Normally not needed.</p>
<p class="F">&nbsp;</p>
<hr><p class="F">&nbsp;</p>
<p id="TcpSocket::NoDelay()" class="O"><span class="P">void</span>&nbsp;<span class="Q">NoDelay</span>()</p>
<p class="J">Sets TCP_NODELAY option.</p>
<p class="F">&nbsp;</p>
<hr><p class="F">&nbsp;</p>
<p id="TcpSocket::Linger(int)" class="O"><span class="P">void</span>&nbsp;<span class="Q">Linger</span>(<span class="P">int</span>&nbsp;<span class="U">msecs</span>)</p>
<p class="J">Sets SO_LINGER option to <span class="U">msecs</span>. If <span class="U">msecs</span> is Null, switches SO_LINGER off.</p>
<p class="F">&nbsp;</p>
<hr><p class="F">&nbsp;</p>
<p id="TcpSocket::NoLinger()" class="O"><span class="P">void</span>&nbsp;<span class="Q">NoLinger</span>()</p>
<p class="J">Same as Linger(Null).</p>
<p class="F">&nbsp;</p>
<hr><p class="F">&nbsp;</p>
<p id="TcpSocket::Wait(dword)" class="O"><span class="P">bool</span>&nbsp;<span class="Q">Wait</span>(<a href="src$Core$PrimitiveDataTypes$en-us.html#Upp::dword::typedef"><u>dword</u></a>&nbsp;<span class="U">events</span>)</p>
<p class="J">Waits for at most timeout for <span class="U">events</span>, which can be a combination of WAIT_READ (wait for more input bytes available), WAIT_WRITE (wait till it is possible to write something to socket). Wait also always returns when socket exception happens. Returns true if wait was successful (data can be written/read after the wait), false on timeout.</p>
<p class="F">&nbsp;</p>
<hr><p class="F">&nbsp;</p>
<p id="TcpSocket::WaitRead()" class="O"><span class="P">bool</span>&nbsp;<span class="Q">WaitRead</span>()</p>
<p class="J">Same as Wait(WAIT_READ).</p>
<p class="F">&nbsp;</p>
<hr><p class="F">&nbsp;</p>
<p id="TcpSocket::WaitWrite()" class="O"><span class="P">bool</span>&nbsp;<span class="Q">WaitWrite</span>()</p>
<p class="J">Same as Wait(WAIT_WRITE).</p>
<p class="F">&nbsp;</p>
<hr><p class="F">&nbsp;</p>
<p id="TcpSocket::Peek()" class="O"><span class="P">int</span>&nbsp;<span class="Q">Peek</span>()</p>
<p id="TcpSocket::Term()" class="O"><span class="P">int</span>&nbsp;<span class="Q">Term</span>()</p>
<p class="J">Returns the next input byte without actually removing it from input queue. It at most waits for specified timeout for it, if there is still none, returns -1.</p>
<p class="F">&nbsp;</p>
<hr><p class="F">&nbsp;</p>
<p id="TcpSocket::Get()" class="O"><span class="P">int</span>&nbsp;<span class="Q">Get</span>()</p>
<p class="J">Reads the next input byte. It at most waits for specified timeout for it, if there is still none, returns -1.</p>
<p class="F">&nbsp;</p>
<hr><p class="F">&nbsp;</p>
<p id="TcpSocket::Get(void*,int)" class="O"><span class="P">int</span>&nbsp;<span class="Q">Get</span>(<span class="P">void</span>&nbsp;*<span class="U">buffer</span>, <span class="P">int</span>&nbsp;<span class="U">len</span>)</p>
<p class="J">Reads at most <span class="U">len</span> bytes into <span class="U">buffer</span>, trying to do so at most for specified timeout. Returns the number of bytes actually read.</p>
<p class="F">&nbsp;</p>
<hr><p class="F">&nbsp;</p>
<p id="TcpSocket::Get(int)" class="O"><a href="src$Core$String$en-us.html#String::class"><u>String</u></a>&nbsp;<span class="Q">Get</span>(<span class="P">int</span>&nbsp;<span class="U">len</span>)</p>
<p class="J">Reads at most <span class="U">len</span> bytes, trying to do so at most for specified timeout. Returns a String with read data.</p>
<p class="F">&nbsp;</p>
<hr><p class="F">&nbsp;</p>
<p id="TcpSocket::Put(const void*,int)" class="O"><span class="P">int</span>&nbsp;<span class="Q">Put</span>(<span class="P">const</span>&nbsp;<span class="P">void</span>&nbsp;*<span class="U">s</span>, <span class="P">int</span>&nbsp;<span class="U">len</span>)</p>
<p class="J">Writes at most <span class="U">len</span> bytes from <span class="U">buffer</span>, trying to do so at most for specified timeout. Returns the number of bytes actually written.</p>
<p class="F">&nbsp;</p>
<hr><p class="F">&nbsp;</p>
<p id="TcpSocket::Put(const String&)" class="O"><span class="P">int</span>&nbsp;<span class="Q">Put</span>(<span class="P">const</span>&nbsp;<a href="src$Core$String$en-us.html#String::class"><u>String</u></a><span class="P">&amp;</span>&nbsp;<span class="U">s</span>)</p>
<p class="J">Writes <span class="U">s</span>, trying to do so at most for specified timeout. Returns the number of bytes actually written.</p>
<p class="F">&nbsp;</p>
<hr><p class="F">&nbsp;</p>
<p id="TcpSocket::GetAll(void*,int)" class="O"><span class="P">bool</span>&nbsp;<span class="Q">GetAll</span>(<span class="P">void</span>&nbsp;*<span class="U">buffer</span>, <span class="P">int</span>&nbsp;<span class="U">len</span>)</p>
<p class="J">Reads exactly <span class="U">len</span> bytes into <span class="U">buffer</span>. If such number of bytes cannot be read until timeout, returns false and sets timeout error for TcpSocket.</p>
<p class="F">&nbsp;</p>
<hr><p class="F">&nbsp;</p>
<p id="TcpSocket::GetAll(int)" class="O"><a href="src$Core$String$en-us.html#String::class"><u>String</u></a>&nbsp;<span class="Q">GetAll</span>(<span class="P">int</span>&nbsp;<span class="U">len</span>)</p>
<p class="J">Reads exactly <span class="U">len</span> bytes. If such number of bytes cannot be read until timeout, returns String::GetVoid() and sets timeout error for TcpSocket.</p>
<p class="F">&nbsp;</p>
<hr><p class="F">&nbsp;</p>
<p id="TcpSocket::GetLine(int)" class="O"><a href="src$Core$String$en-us.html#String::class"><u>String</u></a>&nbsp;<span class="Q">GetLine</span>(<span class="P">int</span>&nbsp;<span class="U">maxlen</span>&nbsp;=&nbsp;<span class="V">65536</span>)</p>
<p class="J">Reads single line (ended with '\n', '\r' is ignored). If the whole line cannot be read within timeout or line length is longer than <span class="U">maxlen</span> sets error and returns String::GetVoid().</p>
<p class="F">&nbsp;</p>
<hr><p class="F">&nbsp;</p>
<p id="TcpSocket::PutAll(const void*,int)" class="O"><span class="P">bool</span>&nbsp;<span class="Q">PutAll</span>(<span class="P">const</span>&nbsp;<span class="P">void</span>&nbsp;*<span class="U">s</span>, <span class="P">int</span>&nbsp;<span class="U">len</span>)</p>
<p class="J">Outputs exactly <span class="U">len</span> bytes. If such number of bytes cannot be written in time specified by timeout, sets error and returns false.</p>
<p class="F">&nbsp;</p>
<hr><p class="F">&nbsp;</p>
<p id="TcpSocket::PutAll(const String&)" class="O"><span class="P">bool</span>&nbsp;<span class="Q">PutAll</span>(<span class="P">const</span>&nbsp;<a href="src$Core$String$en-us.html#String::class"><u>String</u></a><span class="P">&amp;</span>&nbsp;<span class="U">s</span>)</p>
<p class="J">Outputs the whole String. If such number of bytes cannot be written in time specified by timeout, sets error and returns false.</p>
<p class="F">&nbsp;</p>
<hr><p class="F">&nbsp;</p>
<p id="TcpSocket::StartSSL()" class="O"><span class="P">bool</span>&nbsp;<span class="Q">StartSSL</span>()</p>
<p class="J">Sets TcpSocket to SSL mode and starts SSL handshake. Core/SSL must be present in project. Returns true if SSL could have been started. Handshake is not finished until SSLHandshake returns false.</p>
<p class="F">&nbsp;</p>
<hr><p class="F">&nbsp;</p>
<p id="TcpSocket::IsSSL()const" class="R">bool<span class="S">&nbsp;</span><span class="T">IsSSL</span><span class="S">()&nbsp;</span>const</p>
<p class="J">Returns true if TcpSocket is in SSL mode.</p>
<p class="F">&nbsp;</p>
<hr><p class="F">&nbsp;</p>
<p id="TcpSocket::SSLHandshake()" class="O"><span class="P">dword</span>&nbsp;<span class="Q">SSLHandshake</span>()</p>
<p class="J">Attempts the progress on SSL handshake for at most timeout period. Returns a combination of WAIT_READ and WAIT_WRITE if SSL handshake is (still) in progress, indicating whether the process needs to read or write more bytes from the socket. Returns 0 if handshake is finished.</p>
<p class="F">&nbsp;</p>
<hr><p class="F">&nbsp;</p>
<p id="TcpSocket::SSLCertificate(const String&,const String&,bool)" class="O"><span class="P">void</span>&nbsp;<span class="Q">SSLCertificate</span>(<span class="P">const</span>&nbsp;<a href="src$Core$String$en-us.html#String::class"><u>String</u></a><span class="P">&amp;</span>&nbsp;<span class="U">cert</span>, <span class="P">const</span>&nbsp;<a href="src$Core$String$en-us.html#String::class"><u>String</u></a><span class="P">&amp;</span>&nbsp;<span class="U">pkey</span>, <span class="P">bool</span>&nbsp;<span class="U">asn1</span>)</p>
<p class="J">Sets the SSL certificate. Must be called before StartSSL. (Note that clients usually do not need certificates, this is usually used on accepting sockets.)</p>
<p class="F">&nbsp;</p>
<hr><p class="F">&nbsp;</p>
<p id="Upp::TcpSocket::SSLServerNameIndication(const Upp::String&)" class="O"><span class="P">void</span>&nbsp;<span class="Q">SSLServerNameIndication</span>(<span class="P">const</span>&nbsp;<a href="Upp::String"><u>String</u></a><span class="P">&amp;</span>&nbsp;<span class="U">name</span>)</p>
<p class="J">Sets <a href="https://cs.wikipedia.org/wiki/Server_Name_Indication">SNI</a> for SSL connection.</p>
<p class="F">&nbsp;</p>
<hr><p class="F">&nbsp;</p>
<p id="TcpSocket::GetSSLInfo()const" class="R">const<span class="S">&nbsp;</span><a href="src$Core$TcpSocket$en-us.html#SSLInfo::struct"><span class="S"><u>SSLInfo</u></span></a><span class="S">&nbsp;*</span><span class="T">GetSSLInfo</span><span class="S">()&nbsp;</span>const</p>
<p class="J">Returns information about established (after handshake) SSL connection or NULL if such information is not available.</p>
<p class="F">&nbsp;</p>
<hr><p class="F">&nbsp;</p>
<p id="TcpSocket::Timeout(int)" class="O"><a href="src$Core$TcpSocket$en-us.html#TcpSocket::class"><u>TcpSocket</u></a><span class="P">&amp;</span>&nbsp;<span class="Q">Timeout</span>(<span class="P">int</span>&nbsp;<span class="U">ms</span>)</p>
<p class="J">Sets timeout for all operations. Zero means that all operations return immediately (in that case it is usually a good idea to perform some sort of external blocking on socket or socket group using e.g. SocketWaitEvent). Null means operations are blocking (but they still can invoke WhenProgress periodically if defined). Other values specify a number of milliseconds. Note: It is possible to adjust timeout before any single TcpSocket operation. Returns *this. Default value is Null, which means TcpSocket is blocking.</p>
<p class="F">&nbsp;</p>
<hr><p class="F">&nbsp;</p>
<p id="TcpSocket::GetTimeout()const" class="R">int<span class="S">&nbsp;</span><span class="T">GetTimeout</span><span class="S">()&nbsp;</span>const</p>
<p class="J">Returns current timeout.</p>
<p class="F">&nbsp;</p>
<hr><p class="F">&nbsp;</p>
<p id="TcpSocket::GlobalTimeout(int)" class="O"><a href="src$Core$TcpSocket$en-us.html#TcpSocket::class"><u>TcpSocket</u></a><span class="P">&amp;</span>&nbsp;<span class="Q">GlobalTimeout</span>(<span class="P">int</span>&nbsp;<span class="U">ms</span>)</p>
<p class="J">Sets the &quot;global timeout&quot;. This timeout is in effect over a whole range of operations, until it is canceled by calling this method with Null parameter or by setting a new global timeout. If global timeout is exceeded, operation during which it happened fails and socket error code is set to ERROR_GLOBAL_TIMEOUT.</p>
<p class="F">&nbsp;</p>
<hr><p class="F">&nbsp;</p>
<p id="TcpSocket::NoGlobalTimeout()" class="O"><a href="src$Core$TcpSocket$en-us.html#TcpSocket::class"><u>TcpSocket</u></a><span class="P">&amp;</span>&nbsp;<span class="Q">NoGlobalTimeout</span>()</p>
<p class="J">Same as GlobalTimeout(Null).</p>
<p class="F">&nbsp;</p>
<hr><p class="F">&nbsp;</p>
<p id="TcpSocket::Blocking()" class="O"><a href="src$Core$TcpSocket$en-us.html#TcpSocket::class"><u>TcpSocket</u></a><span class="P">&amp;</span>&nbsp;<span class="Q">Blocking</span>()</p>
<p class="J">Same as Timeout(Null). Returns *this. This is the default value.</p>
<p class="F">&nbsp;</p>
<hr><p class="F">&nbsp;</p>
<p id="Upp::TcpSocket::IsBlocking()" class="O"><span class="P">bool</span>&nbsp;<span class="Q">IsBlocking</span>()</p>
<p class="J">Same is IsNull(GetTimeout()).</p>
<p class="F">&nbsp;</p>
<hr><p class="F">&nbsp;</p>
<p id="TcpSocket::WaitStep(int)" class="O"><a href="src$Core$TcpSocket$en-us.html#TcpSocket::class"><u>TcpSocket</u></a><span class="P">&amp;</span>&nbsp;<span class="Q">WaitStep</span>(<span class="P">int</span>&nbsp;<span class="U">ms</span>)</p>
<p class="J">Sets the periodicity of calling WhenWait in millisecond between calls. Default is 10ms (100hz).</p>
<p class="F">&nbsp;</p>
<hr><p class="F">&nbsp;</p>
<p id="TcpSocket::GetWaitStep()const" class="R">int<span class="S">&nbsp;</span><span class="T">GetWaitStep</span><span class="S">()&nbsp;</span>const</p>
<p class="J">Retruns current periodicity of calling WhenWait.</p>
<p class="F">&nbsp;</p>
<hr><p class="F">&nbsp;</p>
<p id="TcpSocket::TcpSocket()" class="O"><span class="Q">TcpSocket</span>()</p>
<p id="TcpSocket::~TcpSocket()" class="O"><span class="P">~</span><span class="Q">TcpSocket</span>()</p>
<p class="J">Constructor, destructor.</p>
<p class="F">&nbsp;</p>
<p class="A">&nbsp;</p>
<table width="100%" border="0" cellpadding="0" cellspacing="0"><tr><td width="100%"><table width="100%" class="C"><colgroup><col width="100%"></colgroup>
<tr><td class="D"><p class="E">SSLInfo</p>
</td>
</tr>
</table></td>
</tr></table>
<p class="A">&nbsp;</p>
<p id="SSLInfo::struct" class="G"><span class="H">struct</span><span class="I">&nbsp;</span>SSLInfo</p>
<p class="J">This structure is used to pass information about established SSL connection.</p>
<p class="F">&nbsp;</p>
<hr><p class="F">&nbsp;</p>
<p id="SSLInfo::cipher" class="N"><a href="src$Core$String$en-us.html#String::class"><span class="I"><u>String</u></span></a><span class="I">&nbsp;</span>cipher</p>
<p class="J">Cipher used.</p>
<p class="F">&nbsp;</p>
<hr><p class="F">&nbsp;</p>
<p id="SSLInfo::cert_avail" class="N"><span class="H">bool</span><span class="I">&nbsp;</span>cert_avail</p>
<p class="J">Certificate is available.</p>
<p class="F">&nbsp;</p>
<hr><p class="F">&nbsp;</p>
<p id="SSLInfo::cert_subject" class="N"><a href="src$Core$String$en-us.html#String::class"><span class="I"><u>String</u></span></a><span class="I">&nbsp;</span>cert_subject</p>
<p class="J">Subject name.</p>
<p class="F">&nbsp;</p>
<hr><p class="F">&nbsp;</p>
<p id="SSLInfo::cert_issuer" class="N"><a href="src$Core$String$en-us.html#String::class"><span class="I"><u>String</u></span></a><span class="I">&nbsp;</span>cert_issuer</p>
<p class="J">Issuer name.</p>
<p class="F">&nbsp;</p>
<hr><p class="F">&nbsp;</p>
<p id="SSLInfo::cert_notbefore" class="N"><a href="src$Core$DateTime$en-us.html#Date::struct"><span class="I"><u>Date</u></span></a><span class="I">&nbsp;</span>cert_notbefore</p>
<p class="J">Certificate is not valid before this date.</p>
<p class="F">&nbsp;</p>
<hr><p class="F">&nbsp;</p>
<p id="SSLInfo::cert_notafter" class="N"><a href="src$Core$DateTime$en-us.html#Date::struct"><span class="I"><u>Date</u></span></a><span class="I">&nbsp;</span>cert_notafter</p>
<p class="J">Certificate is not valid after this date.</p>
<p class="F">&nbsp;</p>
<hr><p class="F">&nbsp;</p>
<p id="SSLInfo::cert_version" class="N"><span class="H">int</span><span class="I">&nbsp;</span>cert_version</p>
<p class="J">Version of certificate.</p>
<p class="F">&nbsp;</p>
<hr><p class="F">&nbsp;</p>
<p id="SSLInfo::cert_serial" class="N"><a href="src$Core$String$en-us.html#String::class"><span class="I"><u>String</u></span></a><span class="I">&nbsp;</span>cert_serial</p>
<p class="J">Serial number of certificate.</p>
<p class="F">&nbsp;</p>
</TD>
</TR>
</TABLE>
</TD>
</TR>
</TABLE>
<TABLE BORDER="0" WIDTH="100%"><TR><TD></TD>
</TR>
</TABLE>
<TABLE BORDER="0" CELLSPACING="0" CELLPADDING="0" BGCOLOR="#FFFFFF" WIDTH="100%" style="border-style: solid; border-width: 1px; border-color: #6E89AE;padding: 10px;;"><TR><TD><TABLE BORDER="0" CELLSPACING="0" CELLPADDING="0" WIDTH="100%"><TR><TD><p class="A"><span class="B"> </span><a href="www$uppweb$contribweb$en-us.html">Do you want to contribute?</a></p>
</TD>
</TR>
</TABLE>
</TD>
</TR>
</TABLE>
</TD>
</TR>
</TABLE>
<script type="text/javascript">var a={};var p=window.location.pathname.split("/");p=p[p.length-1];var s='<select id="lang" onchange="window.location=document.getElementById(\'lang\').value;">';for(l in a){if(p==l){d=" selected=1"}else{d=""}s+='<option value="'+l+'"'+d+'>'+a[l]+'</option>'}s+='</select>';var d=document.createElement('div');d.innerHTML=s;var c=document.getElementById('langs');c.replaceChild(d,c.firstChild);document.getElementById('langbox').style.display='block';</script></BODY>
