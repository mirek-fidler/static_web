<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML lang="en-us">
<HEAD>
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=utf-8">
<META NAME="Generator" CONTENT="U++ HTML Package">
<TITLE>Cameleon Rendering & Creating own chameleonized Ctrl's :: U++</TITLE>
<STYLE TYPE="text/css"><!--
.A{margin:0px 0px 0px 0px;text-indent:0px;text-align:left;color:#000000;font-family:sans-serif;font-size:10pt;font-weight:normal;font-style:normal;}
.B{font-size:12pt;}
.C{margin:0px 0px 0px 0px;text-indent:0px;text-align:left;color:#000000;font-family:serif;font-size:24pt;font-weight:bold;font-style:normal;}
.D{margin:0px 0px 0px 0px;text-indent:0px;text-align:left;color:#000000;font-family:sans-serif;font-size:12pt;font-weight:normal;font-style:normal;}
.E{margin:0px 0px 0px 0px;text-indent:0px;text-align:left;color:#000000;font-family:sans-serif;font-size:10pt;font-weight:bold;font-style:normal;}
.F{margin:0px 0px 0px 0px;text-indent:0px;text-align:left;color:#000000;font-family:monospace;font-size:8pt;font-weight:normal;font-style:normal;}
.G{font-family:monospace;}
.H{margin:0px 0px 0px 0px;text-indent:0px;text-align:left;color:#000000;font-family:monospace;font-size:10pt;font-weight:normal;font-style:normal;}
.I{font-style:italic;}
a.l1         { text-decoration:none; font-size: 8pt; font-family: sans-serif; font-weight: normal; }
a.l1:link    { color:#000000; }
a.l1:visited { color:#000080; }
a.l1:hover   { color:#9933CC; }
a.l1:active  { color:#000000; }
a.l2         { text-decoration:none; font-size: 12pt; font-family: sans-serif; font-variant: small-caps; }
a.l2:link    { color:#0066FF; }
a.l2:visited { color:#FF6600; }
a.l2:hover   { color:#BC0624; }
a.l2:active  { color:#BC0024; }

-->
</STYLE>
<META NAME="keywords" CONTENT="framework, toolkit, widget, c++, visual, studio, dev-cpp, builder, ide, class, component,wxwidgets, qt, rapid, application, development, rad, mfc, linux, macos, gui, sdl, directx, desktop"><META name="robots" content="index,follow">
<LINK rel="alternate" type="application/rss+xml" title="SVN changes" href="svnchanges.xml">
<LINK rel="shortcut icon" type="image/png" href="favicon.png">
</HEAD><BODY BGCOLOR="#D2D9D2" ALINK="#800000" LINK="#000000" VLINK="#000080"><TABLE BORDER="0" CELLSPACING="0" CELLPADDING="0" WIDTH="100%"><TR><TD COLSPAN="3"><TABLE BORDER="0" CELLSPACING="0" CELLPADDING="0" WIDTH="100%" BGCOLOR="#FFFFFF" style="border: 1px solid #6E89AE;padding-left: 10px;padding-right: 0px;padding-top: 0px;padding-bottom: 0px;"><TR><TD><A HREF="index.html"><IMG SRC="0i.png" ALT="" BORDER="0"></A>
</TD>
<TD ALIGN="RIGHT" VALIGN="BOTTOM" STYLE="padding-bottom: 5px; background-image: url('1i.png')"><span style="font-size: 14pt; font-family: sans-serif;"><script type="text/javascript"><!--
google_ad_client = "pub-1082147624384270";
google_ad_width = 468;
google_ad_height = 60;
google_ad_format = "468x60_as";
google_ad_type = "text_image";
google_ad_channel = "";
google_color_border = "336699";
google_color_bg = "FFFFFF";
google_color_link = "0000FF";
google_color_text = "000000";
google_color_url = "008000";
//--></script>
<script type="text/javascript"
  src="https://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
&nbsp;&nbsp;</span>
</TD>
</TR>
</TABLE>
</TD>
</TR>
</TABLE>
<TABLE BORDER="0" CELLSPACING="0" CELLPADDING="0" WIDTH="100%"><TR><TD COLSPAN="3" BGCOLOR="#D2D9D2" HEIGHT="6"></TD>
</TR>
<TR><TD VALIGN="TOP" ALIGN="CENTER"><TABLE BORDER="0" CELLSPACING="0" CELLPADDING="0" WIDTH="160"><TR><TD ALIGN="CENTER"><TABLE BORDER="0" CELLSPACING="0" CELLPADDING="0" WIDTH="100%" BGCOLOR="#FFFFFF" style="border-style: solid; border-width: 1px; border-color: #6E89AE;padding: 0px"><TR><TD WIDTH="100%" VALIGN="MIDDLE" STYLE="background-image: url('2i.png'); border: 0px solid black; padding-left:12px; padding-right:0px; padding-top:6px; padding-bottom:6px;"><A HREF="www$uppweb$overview$en-us.html" CLASS="l1">Overview</A>
</TD>
</TR>
<TR><TD WIDTH="100%" VALIGN="MIDDLE" STYLE="background-image: url('2i.png'); border: 0px solid black; padding-left:12px; padding-right:0px; padding-top:6px; padding-bottom:6px; border-top: 1px solid #6E89AE;"><A HREF="www$uppweb$examples$en-us.html" CLASS="l1">Examples</A>
</TD>
</TR>
<TR><TD WIDTH="100%" VALIGN="MIDDLE" STYLE="background-image: url('2i.png'); border: 0px solid black; padding-left:12px; padding-right:0px; padding-top:6px; padding-bottom:6px; border-top: 1px solid #6E89AE;"><A HREF="www$uppweb$ss$en-us.html" CLASS="l1">Screenshots</A>
</TD>
</TR>
<TR><TD WIDTH="100%" VALIGN="MIDDLE" STYLE="background-image: url('2i.png'); border: 0px solid black; padding-left:12px; padding-right:0px; padding-top:6px; padding-bottom:6px; border-top: 1px solid #6E89AE;"><A HREF="www$uppweb$comparison$en-us.html" CLASS="l1">Comparisons</A>
</TD>
</TR>
<TR><TD WIDTH="100%" VALIGN="MIDDLE" STYLE="background-image: url('2i.png'); border: 0px solid black; padding-left:12px; padding-right:0px; padding-top:6px; padding-bottom:6px; border-top: 1px solid #6E89AE;"><A HREF="www$uppweb$apps$en-us.html" CLASS="l1">Applications</A>
</TD>
</TR>
<TR><TD WIDTH="100%" VALIGN="MIDDLE" STYLE="background-image: url('2i.png'); border: 0px solid black; padding-left:12px; padding-right:0px; padding-top:6px; padding-bottom:6px; border-top: 1px solid #6E89AE;"><A HREF="www$uppweb$download$en-us.html" CLASS="l1">Download</A>
</TD>
</TR>
<TR><TD WIDTH="100%" VALIGN="MIDDLE" STYLE="background-image: url('2i.png'); border: 0px solid black; padding-left:12px; padding-right:0px; padding-top:6px; padding-bottom:6px; border-top: 1px solid #6E89AE;"><A HREF="www$uppweb$documentation$en-us.html" CLASS="l1">Documentation</A>
</TD>
</TR>
<TR><TD WIDTH="100%" VALIGN="MIDDLE" STYLE="background-image: url('2i.png'); border: 0px solid black; padding-left:12px; padding-right:0px; padding-top:6px; padding-bottom:6px; border-top: 1px solid #6E89AE;"><A HREF="www$uppweb$Tutorials$en-us.html" CLASS="l1">Tutorials</A>
</TD>
</TR>
<TR><TD WIDTH="100%" VALIGN="MIDDLE" STYLE="background-image: url('2i.png'); border: 0px solid black; padding-left:12px; padding-right:0px; padding-top:6px; padding-bottom:6px; border-top: 1px solid #6E89AE;"><A HREF="app$ide$UppHub$en-us.html" CLASS="l1">UppHub</A>
</TD>
</TR>
<TR><TD WIDTH="100%" VALIGN="MIDDLE" STYLE="background-image: url('2i.png'); border: 0px solid black; padding-left:12px; padding-right:0px; padding-top:6px; padding-bottom:6px; border-top: 1px solid #6E89AE;"><A HREF="www$uppweb$Roadmap$en-us.html" CLASS="l1">Status & Roadmap</A>
</TD>
</TR>
<TR><TD WIDTH="100%" VALIGN="MIDDLE" STYLE="background-image: url('2i.png'); border: 0px solid black; padding-left:12px; padding-right:0px; padding-top:6px; padding-bottom:6px; border-top: 1px solid #6E89AE;"><A HREF="www$uppweb$FAQ$en-us.html" CLASS="l1">FAQ</A>
</TD>
</TR>
<TR><TD WIDTH="100%" VALIGN="MIDDLE" STYLE="background-image: url('2i.png'); border: 0px solid black; padding-left:12px; padding-right:0px; padding-top:6px; padding-bottom:6px; border-top: 1px solid #6E89AE;"><A HREF="app$ide$About$en-us.html" CLASS="l1">Authors & License</A>
</TD>
</TR>
<TR><TD WIDTH="100%" VALIGN="MIDDLE" STYLE="background-image: url('2i.png'); border: 0px solid black; padding-left:12px; padding-right:0px; padding-top:6px; padding-bottom:6px; border-top: 1px solid #6E89AE;"><A HREF="https://www.ultimatepp.org/forums" CLASS="l1">Forums</A>
</TD>
</TR>
<TR><TD WIDTH="100%" VALIGN="MIDDLE" STYLE="background-image: url('2i.png'); border: 0px solid black; padding-left:12px; padding-right:0px; padding-top:6px; padding-bottom:6px; border-top: 1px solid #6E89AE;"><A HREF="www$uppweb$Funding$en-us.html" CLASS="l1">Funding U++</A>
</TD>
</TR>
</TABLE>
<TABLE BORDER="0" WIDTH="100%"><TR><TD></TD>
</TR>
</TABLE>
<TABLE BORDER="0" CELLSPACING="0" CELLPADDING="0" WIDTH="100%" BGCOLOR="#FFFFFF" style="border-style: solid; border-width: 1px; border-color: #6E89AE;padding: 0px"><TR><TD WIDTH="100%" VALIGN="MIDDLE" STYLE="background-image: url('3i.png'); border: 0px solid black;padding-left:12px; padding-right:0px; padding-top:1px; padding-bottom:1px;color:#FFFFFF;"><B><span style="font-size: 8pt; font-family: sans-serif;">Search on this site</span>
</B>
</TD>
</TR>
<TR><TD WIDTH="100%" VALIGN="MIDDLE" STYLE="background-image: url('2i.png'); border: 0px solid black; padding-left:6px; padding-right:0px; padding-top:4px; padding-bottom:4px;border-top: 1px solid #6E89AE;"><TABLE BORDER="0" CELLSPACING="0" CELLPADDING="0" WIDTH="100%"><TR><TD><IMG SRC="4i.png" ALT="" BORDER="0"></TD>
<TD><FORM ACTION="https://www.google.com/search" METHOD="GET" STYLE="margin:0px;padding:0px;"><INPUT TYPE="HIDDEN" NAME="ie" VALUE="UTF-8"><INPUT TYPE="HIDDEN" NAME="oe" VALUE="UTF-8"><INPUT TYPE="TEXT" NAME="q" SIZE="15" MAXLENGTH="256" placeholder="Site search"><INPUT TYPE="HIDDEN" NAME="sitesearch" VALUE="ultimatepp.org"></FORM>
</TD>
</TR>
</TABLE>
</TD>
</TR>
</TABLE>
<TABLE BORDER="0" WIDTH="100%"><TR><TD></TD>
</TR>
</TABLE>
<br><div id="fb-root"></div>
<script type="text/javascript">(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) {return;}
  js = d.createElement(s); js.id = id;
  js.src = "//connect.facebook.net/en_US/all.js#xfbml=1";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>

<div class="fb-like" data-href="https://www.facebook.com/pages/Upp-Framework/262346610476027?sk=wall" data-send="false" data-layout="button_count" data-width="160" data-show-faces="false" data-font="arial"></div>
<br><br><script type="text/javascript"><!--
google_ad_client = "pub-1082147624384270";
google_ad_width = 160;
google_ad_height = 600;
google_ad_format = "160x600_as";
google_ad_type = "text_image";
google_ad_channel = "";
google_color_border = "336699";
google_color_bg = "FFFFFF";
google_color_link = "0000FF";
google_color_text = "000000";
google_color_url = "008000";
//--></script>
<script type="text/javascript"
  src="https://pagead2.googlesyndication.com/pagead/show_ads.js">
</script><br><br><script type="text/javascript"><!--
google_ad_client = "pub-1082147624384270";
google_ad_width = 160;
google_ad_height = 90;
google_ad_format = "160x90_0ads_al_s";
google_ad_channel = "";
google_color_border = "336699";
google_color_bg = "FFFFFF";
google_color_link = "0000FF";
google_color_text = "000000";
google_color_url = "008000";
//--></script>
<script type="text/javascript"
  src="https://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
<br><br><br><br><br><br><A HREF="https://sourceforge.net/projects/upp/"><IMG SRC="https://sourceforge.net/sflogo.php?group_id=93970&amp;type=2" ALT="SourceForge.net Logo" BORDER="0" WIDTH="125" HEIGHT="37"></A>
<br><br><A HREF="https://flathub.org/en/apps/org.ultimatepp.TheIDE"><IMG SRC="5i.png" ALT="SourceForge.net Logo" BORDER="0" WIDTH="125" HEIGHT="37"></A>
<br><br><div style="background-color:#ffffff;width:125;height:35"><A HREF="https://github.com/ultimatepp"><IMG SRC="6i.png" ALT="GitHub Logo" BORDER="0" WIDTH="125" HEIGHT="35"></A>
</div><br><div style="background-color:#ffffff;width:125;height:35"><div style="height:5"></div><A HREF="https://discord.gg/8XzqQzXZzb"><IMG SRC="https://assets-global.website-files.com/6257adef93867e50d84d30e2/636e0b5061df29d55a92d945_full_logo_blurple_RGB.svg" ALT="Discord Logo" BORDER="0" WIDTH="125" HEIGHT="25"></A>
</div><br></TD>
</TR>
</TABLE>
</TD>
<TD VALIGN="TOP" BGCOLOR="#D2D9D2"><TABLE BORDER="0" CELLSPACING="0" CELLPADDING="0" WIDTH="6"><TR><TD></TD>
</TR>
</TABLE>
</TD>
<TD VALIGN="TOP" WIDTH="100%" BGCOLOR="#D2D9D2"><TABLE BORDER="0" CELLSPACING="0" CELLPADDING="0" BGCOLOR="#FFFFFF" WIDTH="100%" style="border-style: solid; border-width: 1px; border-color: #6E89AE;padding: 10px;;"><TR><TD><TABLE BORDER="0" CELLSPACING="0" CELLPADDING="0" WIDTH="100%"><TR><TD><p class="C">Cameleon Rendering &amp; Creating own chameleonized Ctrl's</p>
<p class="D">&nbsp;</p>
<p class="A">Ultimate++ uses a key feature to yield almost identical look on target platforms. It is called 'Chameleon' and was meant to be only a slim layer to resemble target platform look, but passing time has evolved to a rich featured part of Ultimate++. Own custom Controls can be created quite fast, but often lack the proper support for Chameleon technology, rendering an ugly spot in your overall application, when it uses the other Ultimate++ standard controls, which are 'Chameleon aware'. So here is how you can extend / properly create a Ctrl derived Ultimate++ control with chameleon support.</p>
<p class="A">&nbsp;</p>
<p class="E">1) Define what you consider Style for your control</p>
<p class="A">&nbsp;</p>
<p class="A">In .h file</p>
<p class="F">&nbsp;</p>
<p class="F">struct Style : ChStyle&lt;Style&gt; {</p>
<p class="F">&nbsp;&nbsp;&nbsp;&nbsp;Color paper;</p>
<p class="F">&nbsp;&nbsp;&nbsp;&nbsp;Color disabled;</p>
<p class="F">&nbsp;&nbsp;&nbsp;&nbsp;Color focus;</p>
<p class="F">&nbsp;&nbsp;&nbsp;&nbsp;Color invalid;</p>
<p class="F">&nbsp;&nbsp;&nbsp;&nbsp;Color text, textdisabled;</p>
<p class="F">&nbsp;&nbsp;&nbsp;&nbsp;Color selected, selectedtext;</p>
<p class="F">&nbsp;&nbsp;&nbsp;&nbsp;Value edge[4];</p>
<p class="F">&nbsp;&nbsp;&nbsp;&nbsp;bool &nbsp;activeedge;</p>
<p class="F">&nbsp;&nbsp;&nbsp;&nbsp;int &nbsp;&nbsp;vfm;</p>
<p class="F">};</p>
<p class="A">&nbsp;</p>
<p class="A">This is maybe the most important task to do. When you go ahead implementing your Ctrl, you should already use the respective properties, where possible, thats why this is important to do as soon as possible in development. Later porting can be pain. Parts considered to be Style of your Control are Colors of parts, think of states, your Ctrl can be in (active, inactive..), general sizes of &nbsp;bars, margins, etc. Font should *not* be part of it. It should be specified via API (thus later including of your Ctrl in TheIDE can be done easier, provide SetFont() for it)</p>
<p class="A">&nbsp;</p>
<p class="A">The ChStyle base enriches your own style with some handling with respect to static Style instances for all Ctrl instances of that type. so do not forget it.</p>
<p class="A">&nbsp;</p>
<p class="A">Stick to the naming convention, Style...</p>
<p class="A">&nbsp;</p>
<p class="E">2) Setup a default style</p>
<p class="A">&nbsp;</p>
<p class="A">It is registered globally in Chameleon database for this special control (thats why the macro needs Ctrl class name, Style class name. It generates the function with name 'StyleDefault''). Use default System color descriptions, where possible, like SColorFace, SColorPaper, to remain consistent to global GUI design. They are derived from current target Platform settings.</p>
<p class="A">&nbsp;</p>
<p class="A">In .cpp file</p>
<p class="F">CH_STYLE(EditField, Style, StyleDefault)</p>
<p class="F">{</p>
<p class="F">&nbsp;&nbsp;&nbsp;&nbsp;paper = SColorPaper();</p>
<p class="F">&nbsp;&nbsp;&nbsp;&nbsp;disabled = SColorFace();</p>
<p class="F">&nbsp;&nbsp;&nbsp;&nbsp;focus = paper;</p>
<p class="F">&nbsp;&nbsp;&nbsp;&nbsp;invalid = Blend(paper, Color(255, 0, 0), 32);</p>
<p class="F">&nbsp;&nbsp;&nbsp;&nbsp;text = SColorText();</p>
<p class="F">&nbsp;&nbsp;&nbsp;&nbsp;textdisabled = SColorDisabled();</p>
<p class="F">&nbsp;&nbsp;&nbsp;&nbsp;selected = SColorHighlight();</p>
<p class="F">&nbsp;&nbsp;&nbsp;&nbsp;selectedtext = SColorHighlightText();</p>
<p class="F">&nbsp;&nbsp;&nbsp;&nbsp;for(int i = 0; i &lt; 4; i++)</p>
<p class="F">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge[i] = CtrlsImg::EFE();</p>
<p class="F">&nbsp;&nbsp;&nbsp;&nbsp;activeedge = false;</p>
<p class="F">&nbsp;&nbsp;&nbsp;&nbsp;vfm = 2;</p>
<p class="F">}</p>
<p class="A">&nbsp;</p>
<p class="E">3) Use a const Style *style to reference</p>
<p class="A">&nbsp;</p>
<p class="A"> It is the currently used style in your control code. Don't forget to initialize the pointer to your default style. Now, that you have a StyleDefault() function, you can use this one. provide means to override the Style &nbsp;settings used in your Ctrl (SetStyle). Of course, the referenced Style needs to exist as long as the Ctrl uses it.</p>
<p class="A">&nbsp;</p>
<p class="D">In .h file</p>
<p class="F">&nbsp;&nbsp;&nbsp;&nbsp;const Style *style;</p>
<p class="F">&nbsp;&nbsp;&nbsp;&nbsp;static const Style&amp; StyleDefault();</p>
<p class="F">&nbsp;&nbsp;&nbsp;&nbsp;EditField&amp; &nbsp;SetStyle(const Style&amp; s);</p>
<p class="D">&nbsp;</p>
<p class="D">In .cpp file</p>
<p class="F">&nbsp;&nbsp;&nbsp;&nbsp;style = &amp;StyleDefault(); //ctor</p>
<p class="D">&nbsp;</p>
<p class="F">EditField&amp; EditField::SetStyle(const Style&amp; s)</p>
<p class="F">{</p>
<p class="F">&nbsp;&nbsp;&nbsp;&nbsp;style = &amp;s;</p>
<p class="F">&nbsp;&nbsp;&nbsp;&nbsp;RefreshLayout();</p>
<p class="F">&nbsp;&nbsp;&nbsp;&nbsp;RefreshFrame();</p>
<p class="F">&nbsp;&nbsp;&nbsp;&nbsp;return *this;</p>
<p class="F">}</p>
<p class="A">&nbsp;</p>
<p class="E">4) Use your style information to paint your control</p>
<p class="A">&nbsp;</p>
<p class="A">Either use it directly, or provide Chameleon helper functions with some of your style info</p>
<p class="A">&nbsp;</p>
<p class="F">void EditField::Paint(Draw&amp; w)</p>
<p class="F">{</p>
<p class="F">&nbsp;&nbsp;&nbsp;&nbsp;Size sz = GetSize();</p>
<p class="F">&nbsp;</p>
<p class="F">&nbsp;&nbsp;&nbsp;&nbsp;bool enabled = IsShowEnabled();</p>
<p class="F">&nbsp;&nbsp;&nbsp;&nbsp;Color paper = enabled &amp;&amp; !IsReadOnly() ? (HasFocus() ? style-&gt;focus : style-&gt;paper) : style-&gt;disabled;</p>
<p class="F">&nbsp;&nbsp;&nbsp;&nbsp;if(nobg)</p>
<p class="F">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;paper = Null;</p>
<p class="F">&nbsp;&nbsp;&nbsp;&nbsp;Color ink = enabled ? style-&gt;text : style-&gt;textdisabled;</p>
<p class="F">....</p>
<p class="F">}</p>
<p class="D">&nbsp;</p>
<p class="A">other controls use it like that (ScrollBar)</p>
<p class="D">&nbsp;</p>
<p class="F">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(i != 2 || thumbsize &gt;= style-&gt;thumbmin)</p>
<p class="F">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ChPaint(w, pr, l[i][p == i ? CTRL_PRESSED : light == i ? CTRL_HOT : CTRL_NORMAL]);</p>
<p class="F">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(i != 2)</p>
<p class="F">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;w.End();</p>
<p class="F">&nbsp;&nbsp;&nbsp;&nbsp;}</p>
<p class="F">}</p>
<p class="F">else</p>
<p class="F">&nbsp;&nbsp;&nbsp;&nbsp;if(style-&gt;through) {</p>
<p class="F">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ChPaint(w, sz, l[0][CTRL_DISABLED]);</p>
<p class="F">&nbsp;&nbsp;&nbsp;&nbsp;}</p>
<p class="F">&nbsp;&nbsp;&nbsp;&nbsp;else</p>
<p class="F">&nbsp;&nbsp;&nbsp;&nbsp;if(IsHorz()) {</p>
<p class="F">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ChPaint(w, style-&gt;arrowsize, 0, sz.cx / 2, sz.cy, l[0][CTRL_DISABLED]);</p>
<p class="F">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ChPaint(w, style-&gt;arrowsize + sz.cx / 2, 0, sz.cx - sz.cx / 2, sz.cy, l[1][CTRL_DISABLED]);</p>
<p class="F">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</p>
<p class="F">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else {</p>
<p class="F">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ChPaint(w, 0, style-&gt;arrowsize, sz.cx, sz.cy / 2, l[0][CTRL_DISABLED]);</p>
<p class="F">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ChPaint(w, 0, style-&gt;arrowsize + sz.cy / 2, sz.cx, sz.cy - sz.cy / 2, l[1][CTRL_DISABLED]);</p>
<p class="F">...&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</p>
<p class="A">&nbsp;</p>
<p class="E">Usage Hints:</p>
<p class="A">&nbsp;</p>
<p class="A">Normally, the used Style struct is not alterable (thats why 'const Style *'), you can only replace ist as an entity at once (SetStyle) by a reference to another style. The referenced struct needs to exist as long as the control that's using it, exists as well (logical since it's no copy).</p>
<p class="A">&nbsp;</p>
<p class="A">if you want to permanently alter the default Style for *all* controls of that type, you can disable the const lock, to edit the static global instance of your custom control's default style</p>
<p class="A">(or even others if your control supports multiple global styles, see below). You can always make a preinitialisation to a Standard() style, which was defined one time as copy from the first global registered style (i.e. StyleDefault()) for your control. The Standard() preinit saves a lot of code when to alter only few properties. this is also how to restore an altered StyleDefault to its previous state.</p>
<p class="A">&nbsp;</p>
<p class="F">&nbsp;&nbsp;&nbsp;&nbsp;EditField::Style&amp; es = EditField::StyleDefault().Write();</p>
<p class="F">&nbsp;</p>
<p class="F">&nbsp;&nbsp;&nbsp;&nbsp;es = es.Standard();</p>
<p class="F">&nbsp;&nbsp;&nbsp;&nbsp;es.paper = SColorPaper();</p>
<p class="F">&nbsp;&nbsp;&nbsp;&nbsp;es.disabled = SColorFace();</p>
<p class="F">&nbsp;&nbsp;&nbsp;&nbsp;es.focus = Blend(Green(), Black(), 192);</p>
<p class="A">&nbsp;</p>
<p class="A">your main application window should update all instantiated controls after finishing updating all desired styles</p>
<p class="F"> &nbsp;&nbsp;&nbsp;&nbsp;RefreshLayoutDeep();</p>
<p class="A">&nbsp;</p>
<p class="A">Some Ctrl's may have more than one global style (i.e. Button). if your Ctrl's also needs more, just use another CH_STYLE macro to provide it. Do not forget to define it in .h just in the same way as StyleDefault.</p>
<p class="A">Thus, your Ctrl can be constructed parametrized or use another default Style (Button::StyleNormal, Button::StyleOk..)</p>
<p class="A">&nbsp;</p>
<p class="A">As of chameleonized helper functions, <span class="G">ChPaint</span> is the only one you will likely need. The others are for internal use in the OS theming engine. The beauty and cornerstone of ChPaint and Chameleon is that ChPaint expects Value and can be extended w.r.t. Value types it is able to render. There are two basic types supported directly in Draw: Color and Image. Image has &quot;hotspots&quot; logic to define intelligent scaling, and color is self explaining. You can extend recognized types using ChLookFn. This way, e.g. XP chameleon registers its internal Value type &quot;XpElement&quot; and is able to use XP style rendering system to render Values from Styles. (thanks Mirek)</p>
<p class="A">&nbsp;</p>
<p class="A">Use SColorFace for drawing background color, SColorText for text, SColorPaper for controls that really draw some data (graphs, text background in Editfields..) Here is a list of common SColor...derivates:</p>
<p class="A">(i.e. the values used are for a dark look, BLENDIT = 180, should be setup at the beginning in aplication, but it is not used in all Ctrl's in upp.)</p>
<p class="A">&nbsp;</p>
<p class="H">&nbsp;&nbsp;&nbsp;&nbsp;SColorPaper_Write(Blend(White(), Black(), BLENDIT-20));</p>
<p class="H">&nbsp;&nbsp;&nbsp;&nbsp;SColorText_Write(LtGray());</p>
<p class="H">&nbsp;&nbsp;&nbsp;&nbsp;SColorHighlight_Write(Gray());</p>
<p class="H">&nbsp;&nbsp;&nbsp;&nbsp;SColorHighlightText_Write(White());</p>
<p class="H">&nbsp;&nbsp;&nbsp;&nbsp;SColorMenu_Write(SColorPaper());</p>
<p class="H">&nbsp;&nbsp;&nbsp;&nbsp;SColorMenuText_Write(SColorText());</p>
<p class="H">&nbsp;&nbsp;&nbsp;&nbsp;SColorInfo_Write(SColorPaper());</p>
<p class="H">&nbsp;&nbsp;&nbsp;&nbsp;SColorInfoText_Write(SColorText());</p>
<p class="H">&nbsp;&nbsp;&nbsp;&nbsp;SColorMark_Write(SColorText());</p>
<p class="H">&nbsp;&nbsp;&nbsp;&nbsp;SColorDisabled_Write(Blend(White(), Black(), BLENDIT/2));</p>
<p class="H">&nbsp;&nbsp;&nbsp;&nbsp;SColorLight_Write(SColorText());</p>
<p class="H">&nbsp;&nbsp;&nbsp;&nbsp;SColorFace_Write(Blend(White(), Black(), BLENDIT));</p>
<p class="H">&nbsp;&nbsp;&nbsp;&nbsp;SColorLabel_Write(SColorText());</p>
<p class="H">&nbsp;&nbsp;&nbsp;&nbsp;SColorShadow_Write(Black());</p>
<p class="H">&nbsp;</p>
<p class="H">&nbsp;&nbsp;&nbsp;&nbsp;SColorLtFace_Write(LtGray());</p>
<p class="H">&nbsp;&nbsp;&nbsp;&nbsp;SColorDkShadow_Write(Gray());</p>
<p class="H">&nbsp;</p>
<p class="H">&nbsp;&nbsp;&nbsp;&nbsp;LabelBoxTextColor_Write(SColorText());</p>
<p class="H">&nbsp;&nbsp;&nbsp;&nbsp;LabelBoxColor_Write(SColorHighlight());</p>
<p class="A">&nbsp;</p>
<p class="A">Play around with the Colors to see where they show up or browse the uppsrc :)</p>
<p class="A">&nbsp;</p>
<p class="A">Chameleon is not that complicated, the problem is that the underlying code <span class="I">is</span> complicated so it's difficult to work out documentation.</p>
<p class="A">&nbsp;</p>
<p class="D">&nbsp;</p>
</TD>
</TR>
</TABLE>
</TD>
</TR>
</TABLE>
<TABLE BORDER="0" WIDTH="100%"><TR><TD></TD>
</TR>
</TABLE>
<TABLE BORDER="0" CELLSPACING="0" CELLPADDING="0" BGCOLOR="#FFFFFF" WIDTH="100%" style="border-style: solid; border-width: 1px; border-color: #6E89AE;padding: 10px;;"><TR><TD><TABLE BORDER="0" CELLSPACING="0" CELLPADDING="0" WIDTH="100%"><TR><TD><p class="A"><span class="B"> </span><a href="www$uppweb$contribweb$en-us.html">Do you want to contribute?</a></p>
</TD>
</TR>
</TABLE>
</TD>
</TR>
</TABLE>
</TD>
</TR>
</TABLE>
<script type="text/javascript">var a={};var p=window.location.pathname.split("/");p=p[p.length-1];var s='<select id="lang" onchange="window.location=document.getElementById(\'lang\').value;">';for(l in a){if(p==l){d=" selected=1"}else{d=""}s+='<option value="'+l+'"'+d+'>'+a[l]+'</option>'}s+='</select>';var d=document.createElement('div');d.innerHTML=s;var c=document.getElementById('langs');c.replaceChild(d,c.firstChild);document.getElementById('langbox').style.display='block';</script></BODY>
